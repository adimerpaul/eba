import{j as $,A as ee,g as le,E as oe,k as P,l as te,m as se,_ as O,r as z,s as q,a7 as h,o as _,b as o,a as l,as as u,f as V,w as n,c as S,a6 as Q,u as g,a5 as x,t as m,a2 as ne,a8 as j,a9 as H,I,a4 as D,Q as U,e as N,av as ie,d as B,J as A,h as K}from"./index-BUs-i_oM.js";import{Q as E}from"./QSpace-BV5ouEwr.js";import{Q as T,b as R,d as ae}from"./format-BlWb_OxE.js";import{Q as ue,a as de}from"./QList-DajBPTLf.js";import{Q as re}from"./QMarkupTable-FKgrqPHm.js";import{Q as me}from"./QSelect-DKJ1qiWX.js";import{Q as ce}from"./QForm-B6VmtX0A.js";import{Q as pe}from"./QPage-BLFEEiVu.js";import{C as L}from"./ClosePopup-D8YEt4ut.js";import{L as fe,m as be,a as ge,b as ve,R as Y,v as M,u as _e,y as J,i as W,Y as ye}from"./marker-shadow-Bjaky8rH.js";import"./selection-Dr0ab-Mv.js";const xe=$({name:"QBar",props:{...ee,dense:Boolean},setup(a,{slots:e}){const{proxy:{$q:y}}=le(),k=oe(a,y),t=P(()=>`q-bar row no-wrap items-center q-bar--${a.dense===!0?"dense":"standard"}  q-bar--${k.value===!0?"dark":"light"}`);return()=>te("div",{class:t.value,role:"toolbar"},se(e.default))}}),Ve={class:"map-wrapper"},he={class:"row items-center q-col-gutter-sm q-mb-sm"},ke={class:"col-6 col-md-3"},Ne={class:"col-6 col-md-3"},Me={class:"col-6 col-md-3"},we={class:"col-6 col-md-3"},Ce={__name:"MapPicker",props:{modelValue:{type:Object,default:()=>({latitud:null,longitud:null})},center:{type:Array,default:()=>[-16.5,-68.15]},zoomInit:{type:Number,default:13}},emits:["update:modelValue"],setup(a,{emit:e}){fe.Icon.Default.mergeOptions({iconRetinaUrl:ve,iconUrl:ge,shadowUrl:be});const y=a,k=e,t=r=>({latitud:r?.latitud??r?.lat??null,longitud:r?.longitud??r?.lng??null}),p=r=>({latitud:r.latitud??null,longitud:r.longitud??null,lat:r.latitud??null,lng:r.longitud??null}),i=z(t(y.modelValue));q(()=>y.modelValue,r=>{const b=t(r);(b.latitud!==i.value.latitud||b.longitud!==i.value.longitud)&&(i.value=b)},{deep:!0}),q(i,r=>k("update:modelValue",p(r)),{deep:!0});const w=z(null),s=z(y.zoomInit),C=P(()=>i.value.latitud!=null&&i.value.longitud!=null?[Number(i.value.latitud),Number(i.value.longitud)]:y.center),c=P(()=>i.value.latitud!=null&&i.value.longitud!=null&&Number.isFinite(Number(i.value.latitud))&&Number.isFinite(Number(i.value.longitud)));function f(r,b=6){const v=Number(r);return Number.isFinite(v)?v.toFixed(b):"-"}function d(r){const{lat:b,lng:v}=r.latlng;i.value.latitud=Number(b.toFixed(7)),i.value.longitud=Number(v.toFixed(7))}function F(r){const{lat:b,lng:v}=r.target.getLatLng();i.value.latitud=Number(b.toFixed(7)),i.value.longitud=Number(v.toFixed(7))}function X(){if(!c.value)return;const r=w.value?.leafletObject;r&&r.flyTo([Number(i.value.latitud),Number(i.value.longitud)],Math.max(s.value,15))}function Z(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(r=>{const{latitude:b,longitude:v}=r.coords;i.value.latitud=Number(b.toFixed(7)),i.value.longitud=Number(v.toFixed(7));const G=w.value?.leafletObject;G&&G.flyTo([Number(i.value.latitud),Number(i.value.longitud)],16)})}return(r,b)=>(_(),h("div",Ve,[o("div",he,[o("div",ke,[l(u,{modelValue:i.value.latitud,"onUpdate:modelValue":b[0]||(b[0]=v=>i.value.latitud=v),modelModifiers:{number:!0},dense:"",outlined:"",label:"Latitud",style:{"max-width":"160px"}},null,8,["modelValue"])]),o("div",Ne,[l(u,{modelValue:i.value.longitud,"onUpdate:modelValue":b[1]||(b[1]=v=>i.value.longitud=v),modelModifiers:{number:!0},dense:"",outlined:"",label:"Longitud",style:{"max-width":"160px"}},null,8,["modelValue"])]),o("div",Me,[l(V,{dense:"","no-caps":"",color:"primary",label:"Ir",onClick:X,icon:"place",style:{width:"100%"}})]),o("div",we,[l(V,{dense:"","no-caps":"",color:"secondary",label:"Mi ubicación",onClick:Z,icon:"my_location",style:{width:"100%"}})])]),l(g(W),{style:{height:"350px"},zoom:s.value,"onUpdate:zoom":b[2]||(b[2]=v=>s.value=v),center:C.value,"use-global-leaflet":!1,options:{attributionControl:!1},onClick:d,ref_key:"mapRef",ref:w},{default:n(()=>[l(g(Y),{position:"topright"}),l(g(M),{"layer-type":"base",name:"OpenStreetMap",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors",subdomains:["a","b","c"],"max-zoom":19,visible:!1}),l(g(M),{"layer-type":"base",name:"Google Calle",url:"https://mt1.google.com/vt/lyrs=r&x={x}&y={y}&z={z}",attribution:"Map data © Google","max-zoom":21,visible:!0}),l(g(M),{"layer-type":"base",name:"Google Satélite",url:"https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",attribution:"Map data © Google","max-zoom":21,visible:!1}),l(g(M),{"layer-type":"base",name:"Google Híbrido",url:"https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}",attribution:"Map data © Google","max-zoom":21,visible:!1}),c.value?(_(),S(g(_e),{key:0,"lat-lng":[Number(i.value.latitud),Number(i.value.longitud)],draggable:!0,onMoveend:F},{default:n(()=>[l(g(J),null,{default:n(()=>[o("div",null,[x("Lat: "+m(f(i.value.latitud)),1),b[3]||(b[3]=o("br",null,null,-1)),x("Lng: "+m(f(i.value.longitud)),1)])]),_:1})]),_:1},8,["lat-lng"])):Q("",!0)]),_:1},8,["zoom","center"])]))}},Ue=O(Ce,[["__scopeId","data-v-8dc0e81a"]]),ze={class:"map-full"},Ae={class:"q-pa-xs",style:{"min-width":"220px"}},Le={class:"text-bold"},Se={class:"text-caption text-grey-8"},Qe={key:0},Fe={key:1},Re={key:0},Ie={class:"text-caption q-mt-xs"},Pe={__name:"ApicultoresMap",props:{items:{type:Array,default:()=>[]},refitKey:{type:[Number,String],default:0}},setup(a){const e=a,y=z(null),k=z([-16.5,-64.5]),t=z(5),p=P(()=>(e.items||[]).filter(c=>c.latitud!==null&&c.longitud!==null&&c.latitud!==""&&c.longitud!==""&&!isNaN(Number(c.latitud))&&!isNaN(Number(c.longitud))));function i(c,f=5){const d=Number(c);return Number.isFinite(d)?d.toFixed(f):"-"}function w(c){return c==="Activo"?"#21ba45":c==="Mantenimiento"?"#FFC107":"#E53935"}function s(c){return c==="Activo"?"#0e8a2f":c==="Mantenimiento"?"#b58900":"#ab1f1c"}function C(){const c=y.value?.leafletObject;if(c)if(p.value.length){const f=p.value.map(F=>[Number(F.latitud),Number(F.longitud)]),d=window.L.latLngBounds(f);c.fitBounds(d,{padding:[20,20]})}else{const f=window.L.latLngBounds(window.L.latLng(-22.9,-69.6),window.L.latLng(-9.7,-57.5));c.fitBounds(f,{padding:[20,20]})}}return ne(()=>C()),q(()=>e.refitKey,()=>C()),q(p,()=>C()),(c,f)=>(_(),h("div",ze,[l(g(W),{center:k.value,zoom:t.value,"onUpdate:zoom":f[0]||(f[0]=d=>t.value=d),"use-global-leaflet":!1,options:{attributionControl:!1},ref_key:"mapRef",ref:y,style:{height:"100%",width:"100%"}},{default:n(()=>[l(g(Y),{position:"topright"}),l(g(M),{"layer-type":"base",name:"OpenStreetMap",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors",subdomains:["a","b","c"],"max-zoom":19,visible:!1}),l(g(M),{"layer-type":"base",name:"Google Calle",url:"https://mt1.google.com/vt/lyrs=r&x={x}&y={y}&z={z}",attribution:"Map data © Google","max-zoom":21,visible:!0}),l(g(M),{"layer-type":"base",name:"Google Satélite",url:"https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",attribution:"Map data © Google","max-zoom":21,visible:!1}),l(g(M),{"layer-type":"base",name:"Google Híbrido",url:"https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}",attribution:"Map data © Google","max-zoom":21,visible:!1}),(_(!0),h(j,null,H(p.value,d=>(_(),S(g(ye),{key:d.id,"lat-lng":[Number(d.latitud),Number(d.longitud)],radius:7,color:s(d.estado),"fill-color":w(d.estado),"fill-opacity":.9,weight:2},{default:n(()=>[l(g(J),null,{default:n(()=>[o("div",Ae,[o("div",Le,m(d.nombre_apellido||"Sin nombre"),1),o("div",Se,[d.codigo_runsa?(_(),h("span",Qe,[f[1]||(f[1]=o("b",null,"RUNSA:",-1)),x(" "+m(d.codigo_runsa),1)])):Q("",!0),d.subcodigo?(_(),h("span",Fe,[f[2]||(f[2]=x(" · ")),f[3]||(f[3]=o("b",null,"Subcódigo:",-1)),x(" "+m(d.subcodigo),1)])):Q("",!0)]),l(I,{spaced:""}),d.estado?(_(),h("div",Re,[f[4]||(f[4]=o("b",null,"Estado:",-1)),x(" "+m(d.estado),1)])):Q("",!0),o("div",null,[f[5]||(f[5]=o("b",null,"Apiario:",-1)),x(" "+m(d.lugar_apiario||"-"),1)]),o("div",null,[f[6]||(f[6]=o("b",null,"Colmenas (Prod):",-1)),x(" "+m(d.n_colmenas_produccion??0),1)]),o("div",Ie," Lat: "+m(i(d.latitud))+" / Lng: "+m(i(d.longitud)),1)])]),_:2},1024)]),_:2},1032,["lat-lng","color","fill-color"]))),128))]),_:1},8,["center","zoom"]),o("pre",null,"      "+m(p.value.length)+` apicultores con coordenadas
    `,1)]))}},qe=O(Pe,[["__scopeId","data-v-668c5c40"]]),Be={name:"ApicultoresPage",components:{MapPicker:Ue,ApicultoresMap:qe},data(){return{rows:[],loading:!1,saving:!1,dialog:!1,dialogMap:!1,refitMap:0,form:{},filters:{search:""},kpi:{total:0,colmenasProd:0,proyKg:0,beneficiarios:0}}},computed:{formLocation:{get(){return{lat:this.form.latitud??null,lng:this.form.longitud??null}},set(a){this.form.latitud=a?.lat??null,this.form.longitud=a?.lng??null}}},mounted(){this.fetchRows()},methods:{fmt(a){const e=Number(a||0);return Number.isFinite(e)?e.toLocaleString():"0"},async fetchRows(){this.loading=!0;try{const a=await this.$axios.get("apicultores",{params:{search:this.filters.search||void 0}});this.rows=a.data,this.computeKpis()}catch(a){this.$alert?.error?.(a.response?.data?.message||"No se pudo cargar")}finally{this.loading=!1}},computeKpis(){const a=this.rows.length,e=this.rows.reduce((t,p)=>t+Number(p.n_colmenas_produccion||0),0),y=this.rows.reduce((t,p)=>t+Number(p.proyeccion_produccion_total||0),0),k=this.rows.reduce((t,p)=>t+Number(p.total_beneficiarios||0),0);this.kpi={total:a,colmenasProd:e,proyKg:y,beneficiarios:k}},openMap(){this.dialogMap=!0,this.$nextTick(()=>{this.refitMap=Date.now()})},openNew(){this.form={nombre_apellido:"",n_colmenas_runsa:0,n_colmenas_produccion:0,produccion_promedio:0,proyeccion_produccion_total:0,proyeccion_produccion_toneladas:0,total_beneficiarios:0,nativas:0,fom:0,fort:0,suma_nuevos:0,latitud:null,longitud:null},this.dialog=!0},openEdit(a){this.form={...a},this.dialog=!0},async submit(){this.saving=!0;try{if(this.form.id)await this.$axios.put(`apicultores/${this.form.id}`,this.form),this.$alert?.success?.("Actualizado");else{const{data:a}=await this.$axios.post("apicultores",this.form);this.$alert?.success?.("Creado"),this.form={...a}}this.dialog=!1,this.fetchRows()}catch(a){this.$alert?.error?.(a.response?.data?.message||"No se pudo guardar")}finally{this.saving=!1}},remove(a){this.$alert?.dialog?.("¿Eliminar apicultor?")?.onOk(async()=>{this.loading=!0;try{await this.$axios.delete(`apicultores/${a}`),this.$alert?.success?.("Eliminado"),this.fetchRows()}catch(e){this.$alert?.error?.(e.response?.data?.message||"No se pudo eliminar")}finally{this.loading=!1}})}}},Ee={class:"row q-col-gutter-md q-mb-md"},Oe={class:"col-12 col-md-3"},Ge={class:"text-h4 text-bold"},De={class:"col-12 col-md-3"},Ke={class:"text-h4 text-bold"},Te={class:"col-12 col-md-3"},je={class:"text-h5 text-bold"},He={class:"col-12 col-md-3"},Ye={class:"text-h4 text-bold"},Je={class:"text-weight-medium"},We={class:"text-caption"},Xe={key:0},Ze={class:"text-h6"},$e={class:"row q-col-gutter-sm"},el={class:"col-12 col-sm-4"},ll={class:"col-12 col-sm-4"},ol={class:"col-12 col-sm-4"},tl={class:"col-12 col-sm-8"},sl={class:"col-6 col-sm-2"},nl={class:"col-6 col-sm-2"},il={class:"col-12 col-sm-4"},al={class:"col-12 col-sm-8"},ul={class:"col-12 col-sm-4"},dl={class:"col-12 col-sm-4"},rl={class:"col-12 col-sm-4"},ml={class:"col-12 col-sm-6"},cl={class:"col-12 col-sm-6"},pl={class:"col-12 col-sm-4"},fl={class:"col-12 col-sm-4"},bl={class:"col-12 col-sm-4"},gl={class:"col-12 col-sm-3"},vl={class:"col-12 col-sm-3"},_l={class:"col-12 col-sm-3"},yl={class:"col-12 col-sm-3"},xl={class:"col-12 col-sm-6"},Vl={class:"col-12 col-sm-3"},hl={class:"col-12 col-sm-3"},kl={class:"col-12 col-sm-6"},Nl={class:"col-12"},Ml={class:"text-right q-mt-md"};function wl(a,e,y,k,t,p){const i=D("MapPicker"),w=D("ApicultoresMap");return _(),S(pe,{class:"q-pa-md"},{default:n(()=>[o("div",Ee,[o("div",Oe,[l(U,{flat:"",bordered:"",class:"kpi-card bg-green-10 text-white"},{default:n(()=>[l(N,null,{default:n(()=>[e[29]||(e[29]=o("div",{class:"text-subtitle2"},"Apicultores",-1)),o("div",Ge,m(t.kpi.total),1),e[30]||(e[30]=o("div",{class:"text-caption"},"registrados",-1))]),_:1})]),_:1})]),o("div",De,[l(U,{flat:"",bordered:"",class:"kpi-card bg-green text-white"},{default:n(()=>[l(N,null,{default:n(()=>[e[31]||(e[31]=o("div",{class:"text-subtitle2"},"Colmenas (producción)",-1)),o("div",Ke,m(t.kpi.colmenasProd),1),e[32]||(e[32]=o("div",{class:"text-caption"},"suma n_colmenas_produccion",-1))]),_:1})]),_:1})]),o("div",Te,[l(U,{flat:"",bordered:"",class:"kpi-card bg-amber text-dark"},{default:n(()=>[l(N,null,{default:n(()=>[e[33]||(e[33]=o("div",{class:"text-subtitle2"},"Proyección total (kg)",-1)),o("div",je,m(t.kpi.proyKg),1),e[34]||(e[34]=o("div",{class:"text-caption"},"suma proyeccion_produccion_total",-1))]),_:1})]),_:1})]),o("div",He,[l(U,{flat:"",bordered:"",class:"kpi-card bg-red-5 text-white"},{default:n(()=>[l(N,null,{default:n(()=>[e[35]||(e[35]=o("div",{class:"text-subtitle2"},"Beneficiarios",-1)),o("div",Ye,m(t.kpi.beneficiarios),1),e[36]||(e[36]=o("div",{class:"text-caption"},"total_beneficiarios",-1))]),_:1})]),_:1})])]),l(U,{flat:"",bordered:""},{default:n(()=>[l(N,{class:"row items-center q-gutter-sm"},{default:n(()=>[e[37]||(e[37]=o("div",{class:"text-h6"},"Productores / Apicultores",-1)),l(E),l(u,{modelValue:t.filters.search,"onUpdate:modelValue":e[0]||(e[0]=s=>t.filters.search=s),dense:"",outlined:"",placeholder:"Buscar por RUNSA, subcódigo, nombre, CI, asociación, lugar...",onKeyup:ie(p.fetchRows,["enter"]),style:{"min-width":"320px"}},{append:n(()=>[l(B,{name:"search"})]),_:1},8,["modelValue","onKeyup"]),l(V,{color:"secondary",icon:"map",label:"Mapa","no-caps":"",onClick:p.openMap,loading:t.loading},null,8,["onClick","loading"]),l(V,{color:"primary",icon:"refresh",label:"Actualizar","no-caps":"",loading:t.loading,onClick:p.fetchRows},null,8,["loading","onClick"]),l(V,{color:"positive",icon:"add_circle",label:"Nuevo","no-caps":"",onClick:p.openNew,loading:t.loading},null,8,["onClick","loading"])]),_:1}),l(I),l(re,{dense:"","wrap-cells":""},{default:n(()=>[e[40]||(e[40]=o("thead",null,[o("tr",{class:"bg-primary text-white"},[o("th",null,"Opciones"),o("th",null,"RUNSA"),o("th",null,"Nombre"),o("th",null,"CI / Exp."),o("th",null,"Celular"),o("th",null,"Lugar Apiario"),o("th",null,"Asociación"),o("th",null,"Estado")])],-1)),o("tbody",null,[(_(!0),h(j,null,H(t.rows,(s,C)=>(_(),h("tr",{key:s.id},[o("td",null,[l(ue,{dense:"",color:"primary",label:`Opciones (${C+1})`,"no-caps":"",size:"10px"},{default:n(()=>[l(de,null,{default:n(()=>[A((_(),S(T,{clickable:"",onClick:c=>p.openEdit(s)},{default:n(()=>[l(R,{avatar:""},{default:n(()=>[l(B,{name:"edit"})]),_:1}),l(R,null,{default:n(()=>e[38]||(e[38]=[x("Editar")])),_:1})]),_:2},1032,["onClick"])),[[L]]),A((_(),S(T,{clickable:"",onClick:c=>p.remove(s.id)},{default:n(()=>[l(R,{avatar:""},{default:n(()=>[l(B,{name:"delete",color:"negative"})]),_:1}),l(R,null,{default:n(()=>e[39]||(e[39]=[x("Eliminar")])),_:1})]),_:2},1032,["onClick"])),[[L]])]),_:2},1024)]),_:2},1032,["label"])]),o("td",null,[o("div",Je,m(s.codigo_runsa||"-"),1),o("div",We,"Subcódigo: "+m(s.subcodigo||"-"),1)]),o("td",null,m(s.nombre_apellido),1),o("td",null,[x(m(s.ci||"-")+" ",1),s.expedido?(_(),h("span",Xe,"/ "+m(s.expedido),1)):Q("",!0)]),o("td",null,m(s.celular||"-"),1),o("td",null,m(s.lugar_apiario||"-"),1),o("td",null,m(s.asociacion||"-"),1),o("td",null,[l(ae,{color:s.estado==="Activo"?"green":s.estado==="Inactivo"?"red":"amber","text-color":s.estado==="Activo"?"white":"black",class:"text-bold",size:"xs"},{default:n(()=>[x(m(s.estado),1)]),_:2},1032,["color","text-color"])])]))),128))])]),_:1})]),_:1}),l(K,{modelValue:t.dialog,"onUpdate:modelValue":e[26]||(e[26]=s=>t.dialog=s),persistent:""},{default:n(()=>[l(U,{style:{"min-width":"320px","max-width":"90vw"}},{default:n(()=>[l(N,{class:"row items-center q-gutter-sm"},{default:n(()=>[o("div",Ze,m(t.form.id?"Editar Apicultor":"Nuevo Apicultor"),1),l(E),A(l(V,{icon:"close",flat:"",round:"",dense:""},null,512),[[L]])]),_:1}),l(I),l(N,null,{default:n(()=>[l(ce,{onSubmit:p.submit},{default:n(()=>[o("div",$e,[o("div",el,[l(u,{modelValue:t.form.codigo_runsa,"onUpdate:modelValue":e[1]||(e[1]=s=>t.form.codigo_runsa=s),label:"Código RUNSA",dense:"",outlined:""},null,8,["modelValue"])]),o("div",ll,[l(u,{modelValue:t.form.subcodigo,"onUpdate:modelValue":e[2]||(e[2]=s=>t.form.subcodigo=s),label:"Subcódigo",dense:"",outlined:""},null,8,["modelValue"])]),o("div",ol,[l(u,{modelValue:t.form.runsa,"onUpdate:modelValue":e[3]||(e[3]=s=>t.form.runsa=s),label:"RUNSA",dense:"",outlined:""},null,8,["modelValue"])]),o("div",tl,[l(u,{modelValue:t.form.nombre_apellido,"onUpdate:modelValue":e[4]||(e[4]=s=>t.form.nombre_apellido=s),label:"Nombre y Apellido",dense:"",outlined:"",rules:[s=>!!s||"Requerido"]},null,8,["modelValue","rules"])]),o("div",sl,[l(u,{modelValue:t.form.ci,"onUpdate:modelValue":e[5]||(e[5]=s=>t.form.ci=s),label:"CI",dense:"",outlined:""},null,8,["modelValue"])]),o("div",nl,[l(u,{modelValue:t.form.expedido,"onUpdate:modelValue":e[6]||(e[6]=s=>t.form.expedido=s),label:"Expedido",dense:"",outlined:"",hint:"LP, CB, SC, OR..."},null,8,["modelValue"])]),o("div",il,[l(u,{modelValue:t.form.celular,"onUpdate:modelValue":e[7]||(e[7]=s=>t.form.celular=s),label:"Celular",dense:"",outlined:""},null,8,["modelValue"])]),o("div",al,[l(u,{modelValue:t.form.lugar_apiario,"onUpdate:modelValue":e[8]||(e[8]=s=>t.form.lugar_apiario=s),label:"Lugar del Apiario",dense:"",outlined:""},null,8,["modelValue"])]),o("div",ul,[l(u,{modelValue:t.form.n_colmenas_runsa,"onUpdate:modelValue":e[9]||(e[9]=s=>t.form.n_colmenas_runsa=s),modelModifiers:{number:!0},type:"number",label:"N° Colmenas (RUNSA)",dense:"",outlined:""},null,8,["modelValue"])]),o("div",dl,[l(u,{modelValue:t.form.n_colmenas_produccion,"onUpdate:modelValue":e[10]||(e[10]=s=>t.form.n_colmenas_produccion=s),modelModifiers:{number:!0},type:"number",label:"N° Colmenas (Producción)",dense:"",outlined:""},null,8,["modelValue"])]),o("div",rl,[l(u,{modelValue:t.form.produccion_promedio,"onUpdate:modelValue":e[11]||(e[11]=s=>t.form.produccion_promedio=s),modelModifiers:{number:!0},type:"number",step:"0.01",label:"Producción Prom. (kg)",dense:"",outlined:""},null,8,["modelValue"])]),o("div",ml,[l(u,{modelValue:t.form.proyeccion_produccion_total,"onUpdate:modelValue":e[12]||(e[12]=s=>t.form.proyeccion_produccion_total=s),modelModifiers:{number:!0},type:"number",step:"0.01",label:"Proyección Total (kg)",dense:"",outlined:""},null,8,["modelValue"])]),o("div",cl,[l(u,{modelValue:t.form.proyeccion_produccion_toneladas,"onUpdate:modelValue":e[13]||(e[13]=s=>t.form.proyeccion_produccion_toneladas=s),modelModifiers:{number:!0},type:"number",step:"0.001",label:"Proyección (ton)",dense:"",outlined:""},null,8,["modelValue"])]),o("div",pl,[l(u,{modelValue:t.form.asociacion,"onUpdate:modelValue":e[14]||(e[14]=s=>t.form.asociacion=s),label:"Asociación",dense:"",outlined:""},null,8,["modelValue"])]),o("div",fl,[l(u,{modelValue:t.form.fomento,"onUpdate:modelValue":e[15]||(e[15]=s=>t.form.fomento=s),label:"Fomento",dense:"",outlined:""},null,8,["modelValue"])]),o("div",bl,[l(u,{modelValue:t.form.fortalecimiento,"onUpdate:modelValue":e[16]||(e[16]=s=>t.form.fortalecimiento=s),label:"Fortalecimiento",dense:"",outlined:""},null,8,["modelValue"])]),o("div",gl,[l(u,{modelValue:t.form.total_beneficiarios,"onUpdate:modelValue":e[17]||(e[17]=s=>t.form.total_beneficiarios=s),modelModifiers:{number:!0},type:"number",label:"Total Beneficiarios",dense:"",outlined:""},null,8,["modelValue"])]),o("div",vl,[l(u,{modelValue:t.form.nativas,"onUpdate:modelValue":e[18]||(e[18]=s=>t.form.nativas=s),modelModifiers:{number:!0},type:"number",label:"Nativas",dense:"",outlined:""},null,8,["modelValue"])]),o("div",_l,[l(u,{modelValue:t.form.fom,"onUpdate:modelValue":e[19]||(e[19]=s=>t.form.fom=s),modelModifiers:{number:!0},type:"number",label:"FOM",dense:"",outlined:""},null,8,["modelValue"])]),o("div",yl,[l(u,{modelValue:t.form.fort,"onUpdate:modelValue":e[20]||(e[20]=s=>t.form.fort=s),modelModifiers:{number:!0},type:"number",label:"FORT",dense:"",outlined:""},null,8,["modelValue"])]),o("div",xl,[l(u,{modelValue:t.form.suma_nuevos,"onUpdate:modelValue":e[21]||(e[21]=s=>t.form.suma_nuevos=s),modelModifiers:{number:!0},type:"number",label:"Suma Nuevos",dense:"",outlined:""},null,8,["modelValue"])]),o("div",Vl,[l(u,{modelValue:t.form.n_acta,"onUpdate:modelValue":e[22]||(e[22]=s=>t.form.n_acta=s),label:"N° Acta",dense:"",outlined:""},null,8,["modelValue"])]),o("div",hl,[l(u,{modelValue:t.form.lote,"onUpdate:modelValue":e[23]||(e[23]=s=>t.form.lote=s),label:"Lote",dense:"",outlined:""},null,8,["modelValue"])]),o("div",kl,[l(me,{modelValue:t.form.estado,"onUpdate:modelValue":e[24]||(e[24]=s=>t.form.estado=s),options:["Activo","Inactivo","Mantenimiento"],label:"Estado",dense:"",outlined:"","emit-value":"","map-options":""},null,8,["modelValue"])]),o("div",Nl,[l(i,{modelValue:p.formLocation,"onUpdate:modelValue":e[25]||(e[25]=s=>p.formLocation=s),center:[-16.5,-68.15],"zoom-init":13},null,8,["modelValue"])])]),o("div",Ml,[A(l(V,{flat:"",label:"Cancelar",color:"negative",loading:t.saving},null,8,["loading"]),[[L]]),l(V,{label:"Guardar",color:"primary",type:"submit",loading:t.saving,class:"q-ml-sm"},null,8,["loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(K,{modelValue:t.dialogMap,"onUpdate:modelValue":e[28]||(e[28]=s=>t.dialogMap=s),persistent:"",maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},{default:n(()=>[l(U,null,{default:n(()=>[l(xe,{class:"bg-grey-2"},{default:n(()=>[e[41]||(e[41]=o("div",{class:"text-subtitle2"},"Mapa de Apicultores (Bolivia)",-1)),l(E),l(V,{dense:"",flat:"",icon:"refresh",onClick:e[27]||(e[27]=s=>t.refitMap=Date.now())}),A(l(V,{dense:"",flat:"",icon:"close"},null,512),[[L]])]),_:1}),l(I),l(N,{class:"q-pa-none",style:{height:"calc(100vh - 80px)"}},{default:n(()=>[l(w,{items:t.rows,"refit-key":t.refitMap},null,8,["items","refit-key"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const ql=O(Be,[["render",wl],["__scopeId","data-v-eecbd339"]]);export{ql as default};
