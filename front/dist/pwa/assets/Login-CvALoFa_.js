import{j as C,k as u,l as c,m as U,A as Y,g as K,E as W,s as A,am as X,a2 as Z,v as ee,a3 as oe,f as v,aj as te,_ as ae,c as D,o as y,w as r,a as n,b as t,bd as M,Q as se,e as le,a7 as ne,a8 as ie,a9 as re,d as L,t as q,aB as N,as as F,aq as ce,i as ue}from"./index-CGPPD_8p.js";import{u as de,a as me,b as ge,c as ve}from"./use-panel-Dob3YwIE.js";import{u as fe,a as pe,b as he}from"./use-fullscreen-FbZyZS2Y.js";import{Q as be}from"./QImg-DPch4CGI.js";import{Q as _e}from"./QForm-Bxg5cRiS.js";import{Q as xe}from"./QPage-C7egMHlY.js";import{Q as we,a as ye}from"./QLayout-E2WOlXjx.js";import"./touch-BjYP5sR0.js";import"./selection-BAn-ZMzE.js";import"./QResizeObserver-D_YxQA33.js";const qe=C({name:"QCarouselSlide",props:{...de,imgSrc:String},setup(e,{slots:o}){const d=u(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>c("div",{class:"q-carousel__slide",style:d.value},U(o.default))}}),Ce=C({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,default:()=>[18,18],validator:e=>e.length===2}},setup(e,{slots:o}){const d=u(()=>`q-carousel__control absolute absolute-${e.position}`),f=u(()=>({margin:`${e.offset[1]}px ${e.offset[0]}px`}));return()=>c("div",{class:d.value,style:f.value},U(o.default))}}),Se=["top","right","bottom","left"],Pe=["regular","flat","outline","push","unelevated"],ke=C({name:"QCarousel",props:{...Y,...ge,...pe,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Pe.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Se.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...fe,...me],setup(e,{slots:o}){const{proxy:{$q:d}}=K(),f=W(e,d);let a=null,m;const{updatePanelsList:s,getPanelContent:h,panelDirectives:O,goToPanel:S,previousPanel:P,nextPanel:k,getEnabledPanels:j,panelIndex:p}=ve(),{inFullscreen:I}=he(),G=u(()=>I.value!==!0&&e.height!==void 0?{height:e.height}:{}),b=u(()=>e.vertical===!0?"vertical":"horizontal"),Q=u(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),H=u(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(I.value===!0?" fullscreen":"")+(f.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${b.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${Q.value}`:"")),B=u(()=>{const l=[e.prevIcon||d.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||d.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&d.lang.rtl===!0?l.reverse():l}),V=u(()=>e.navigationIcon||d.iconSet.carousel.navigationIcon),J=u(()=>e.navigationActiveIcon||V.value),_=u(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));A(()=>e.modelValue,()=>{e.autoplay&&x()}),A(()=>e.autoplay,l=>{l?x():a!==null&&(clearTimeout(a),a=null)});function x(){const l=X(e.autoplay)===!0?Math.abs(e.autoplay):5e3;a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,l>=0?k():P()},l)}Z(()=>{e.autoplay&&x()}),ee(()=>{a!==null&&clearTimeout(a)});function $(l,g){return c("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${l} q-carousel__navigation--${Q.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[c("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},j().map(g))])}function R(){const l=[];if(e.navigation===!0){const g=o["navigation-icon"]!==void 0?o["navigation-icon"]:i=>c(v,{key:"nav"+i.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${i.active===!0?"":"in"}active`,...i.btnProps,onClick:i.onClick}),w=m-1;l.push($("buttons",(i,T)=>{const E=i.props.name,z=p.value===T;return g({index:T,maxIndex:w,name:E,active:z,btnProps:{icon:z===!0?J.value:V.value,size:"sm",..._.value},onClick:()=>{S(E)}})}))}else if(e.thumbnails===!0){const g=e.controlColor!==void 0?` text-${e.controlColor}`:"";l.push($("thumbnails",w=>{const i=w.props;return c("img",{key:"tmb#"+i.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${i.name===e.modelValue?"":"in"}active`+g,src:i.imgSrc||i["img-src"],onClick:()=>{S(i.name)}})}))}return e.arrows===!0&&p.value>=0&&((e.infinite===!0||p.value>0)&&l.push(c("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${b.value} absolute flex flex-center`},[c(v,{icon:B.value[0],..._.value,onClick:P})])),(e.infinite===!0||p.value<m-1)&&l.push(c("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${b.value} absolute flex flex-center`},[c(v,{icon:B.value[1],..._.value,onClick:k})]))),te(o.control,l)}return()=>(m=s(o),c("div",{class:H.value,style:G.value},[oe("div",{class:"q-carousel__slides-container"},h(),"sl-cont",e.swipeable,()=>O.value)].concat(R())))}}),Ie={name:"Login",data(){return{slide:"calidad",slides:[{name:"calidad",icon:"verified",title:"Calidad Certificada",description:"Nuestros productos cumplen los más altos estándares de calidad."},{name:"trazabilidad",icon:"qr_code",title:"Trazabilidad Garantizada",description:"Sigue el recorrido de nuestros productos desde el origen."},{name:"innovacion",icon:"lightbulb",title:"Innovación Constante",description:"Incorporamos tecnología para optimizar nuestros procesos."},{name:"sostenibilidad",icon:"eco",title:"Producción Sostenible",description:"Comprometidos con el medio ambiente y el desarrollo local."},{name:"seguridad",icon:"lock",title:"Seguridad y Confianza",description:"Protegemos tus datos y transacciones en todo momento."}],login:{username:"",password:""},showPassword:!1,loading:!1,remember:!1}},methods:{loginSubmit(){this.loading=!0,this.$axios.post("login",{username:this.login.username,password:this.login.password}).then(e=>{this.$store.isLogged=!0,this.$store.user=e.data.user,this.$axios.defaults.headers.common.Authorization="Bearer "+e.data.token,localStorage.setItem("tokenEBA",e.data.token),ue().permissions=(e.data.user.permissions||[]).map(o=>o.name),localStorage.setItem("user",JSON.stringify(e.data.user)),this.$alert.success("Bienvenido "+e.data.user.name),this.$router.push("/")}).catch(e=>{this.loading=!1,this.$alert.error(e.response?.data?.message||"Error de conexión")}).finally(()=>{this.loading=!1})}}},Qe={class:"row"},Be={class:"row"},Ve={class:"col-12 col-md-6"},$e={class:"bg-fondo"},Te={class:"text-center"},Ee={class:"q-mb-xs text-bold"},ze={class:"text-caption"},Ae={class:M("col-12 col-md-6 q-pa-md bg-white")},De={class:"row q-ma-md"},Le={class:"col-12"},Ne={class:"col-12"},Fe={class:"col-12"},Ue={class:"col-12"},Me={class:"col-12"},Oe={class:"col-12"},je={class:"text-center"},Ge={class:"text-center q-mt-sm"},He={class:"text-caption text-white"};function Je(e,o,d,f,a,m){return y(),D(ye,{class:"bg-green-blue",view:"lHh Lpr lff"},{default:r(()=>[n(we,null,{default:r(()=>[n(xe,{class:"flex flex-center"},{default:r(()=>[t("div",Qe,[o[10]||(o[10]=t("div",{class:"col-12 col-md-1"},null,-1)),t("div",{class:M(`col-12 col-md-10 ${e.$q.screen.gt.sm?"q-pa-lg":""}`)},[n(se,{flat:"",bordered:"",class:"q-ma-xs q-pa-none"},{default:r(()=>[n(le,{class:"q-pa-none"},{default:r(()=>[t("div",Be,[t("div",Ve,[t("div",$e,[n(ke,{modelValue:a.slide,"onUpdate:modelValue":o[0]||(o[0]=s=>a.slide=s),"transition-prev":"scale","transition-next":"scale",swipeable:"",animated:"",infinite:"",autoplay:"","control-color":"white",navigation:"",padding:"",arrows:"",height:e.$q.screen.gt.sm?"600px":"230px",class:"text-white shadow-1 rounded-borders bg-fondo",style:{width:"100%"}},{control:r(()=>[n(Ce,{position:"top-left",offset:[5,10],class:"text-white rounded-borders"},{default:r(()=>o[5]||(o[5]=[t("img",{src:"logo.png",width:"70"},null,-1)])),_:1})]),default:r(()=>[(y(!0),ne(ie,null,re(a.slides,(s,h)=>(y(),D(qe,{key:h,name:s.name,class:"column no-wrap flex-center"},{default:r(()=>[n(L,{name:s.icon,size:"50px"},null,8,["name"]),t("div",Te,[t("div",Ee,q(s.title),1),t("p",ze,q(s.description),1)])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue","height"])])]),t("div",Ae,[n(_e,{onSubmit:N(m.loginSubmit,["prevent"])},{default:r(()=>[t("div",De,[t("div",Le,[n(be,{src:"logo.png",width:"100px",class:"q-mb-md",style:{"border-radius":"50%"}})]),o[8]||(o[8]=t("div",{class:"col-12"},[t("div",{style:{color:"#005c2a"},class:"text-bold"},"Bienvenido a EBA"),t("div",{class:"text-grey q-py-xs"}," Inicia sesión para acceder al sistema ")],-1)),t("div",Ne,[o[6]||(o[6]=t("label",{class:"text-subtitle"},"Usuario",-1)),n(F,{modelValue:a.login.username,"onUpdate:modelValue":o[1]||(o[1]=s=>a.login.username=s),outlined:"",type:"text",placeholder:"Usuario",rules:[s=>!!s||"El usuario es requerido",s=>s.length>=3||"Debe tener al menos 3 caracteres"],dense:""},null,8,["modelValue","rules"])]),t("div",Fe,[o[7]||(o[7]=t("label",{class:"text-subtitle"},"Contraseña",-1)),n(F,{modelValue:a.login.password,"onUpdate:modelValue":o[3]||(o[3]=s=>a.login.password=s),outlined:"",type:a.showPassword?"text":"password",placeholder:"Contraseña",dense:"",rules:[s=>!!s||"La contraseña es requerida"]},{append:r(()=>[n(L,{name:a.showPassword?"visibility":"visibility_off",onClick:o[2]||(o[2]=N(s=>a.showPassword=!a.showPassword,["stop"])),class:"cursor-pointer"},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),t("div",Ue,[n(ce,{modelValue:a.remember,"onUpdate:modelValue":o[4]||(o[4]=s=>a.remember=s),label:"Recordar mi usuario",color:"primary"},null,8,["modelValue"])]),t("div",Me,[n(v,{loading:a.loading,disable:a.loading,label:"Iniciar sesión",color:"positive","no-caps":"",type:"submit",class:"full-width"},null,8,["loading","disable"])]),t("div",Oe,[t("div",je,[n(v,{flat:"",label:"Olvidé mi contraseña",color:"primary","no-caps":"",loading:a.loading},null,8,["loading"])])])])]),_:1},8,["onSubmit"])])])]),_:1})]),_:1}),t("div",Ge,[t("div",He," EBA © "+q(new Date().getFullYear())+". Todos los derechos reservados. ",1),o[9]||(o[9]=t("div",{class:"text-caption text-white"}," Desarrollado por el equipo de EBA ",-1))])],2),o[11]||(o[11]=t("div",{class:"col-12 col-md-1"},null,-1))])]),_:1})]),_:1})]),_:1})}const so=ae(Ie,[["render",Je]]);export{so as default};
