import{_,a4 as d,c as l,o as p,w as t,b as u,a as o,f as m,Q as h,I as C,a6 as Q,e as v}from"./index-BUs-i_oM.js";import{Q as k}from"./QSpace-BV5ouEwr.js";import{Q as S,a as c,b as V,c as i}from"./QTabPanels-CV6YYM3O.js";import{Q as U}from"./QPage-BLFEEiVu.js";import{P as q}from"./ProductorForm-CjgA7Vqk.js";import{P as w,a as y,b as x}from"./ProductorMapa-C38VnLLh.js";import"./QResizeObserver-anys-GR9.js";import"./QSelect-DKJ1qiWX.js";import"./format-BlWb_OxE.js";import"./selection-Dr0ab-Mv.js";import"./use-panel-DV8NltCj.js";import"./touch-BjYP5sR0.js";import"./QBanner-gwIteI2d.js";import"./QForm-B6VmtX0A.js";import"./QList-DajBPTLf.js";import"./QMarkupTable-FKgrqPHm.js";import"./ClosePopup-D8YEt4ut.js";import"./marker-shadow-Bjaky8rH.js";import"./QBadge-D6WKsfDo.js";const A={name:"ProductorShow",components:{ProductorMapa:x,ProductorApiarios:y,ProductorCertificaciones:w,ProductorForm:q},data(){return{tab:"general",loading:!1,productor:null}},mounted(){this.fetchProductor()},methods:{async fetchProductor(){this.loading=!0;try{const e=this.$route.params.id,{data:r}=await this.$axios.get(`productores/${e}`);this.productor=r}catch(e){this.productor=null,this.$alert?.error?.(e.response?.data?.message||"No se pudo cargar el productor")}finally{this.loading=!1}},onSaved(e){this.productor=e,this.$alert?.success?.("Cambios guardados")}}},B={class:"row items-center q-gutter-sm q-mb-md"};function M(e,r,N,T,a,n){const f=d("ProductorForm"),P=d("ProductorCertificaciones"),b=d("ProductorApiarios"),g=d("ProductorMapa");return p(),l(U,{class:"q-pa-md"},{default:t(()=>[u("div",B,[o(m,{flat:"",round:"",icon:"arrow_back",onClick:r[0]||(r[0]=s=>e.$router.back())}),r[4]||(r[4]=u("div",{class:"text-h6"},"Editar Productor",-1)),o(k),o(m,{flat:"",round:"",icon:"refresh",loading:a.loading,onClick:n.fetchProductor},null,8,["loading","onClick"])]),o(h,{flat:"",bordered:""},{default:t(()=>[o(S,{modelValue:a.tab,"onUpdate:modelValue":r[1]||(r[1]=s=>a.tab=s),class:"text-primary",align:"left",dense:""},{default:t(()=>[o(c,{name:"general",icon:"badge",label:"1) InformaciÃ³n general","no-caps":""}),o(c,{name:"certs",icon:"verified",label:"2) Certificaciones","no-caps":""}),o(c,{name:"apiarios",icon:"hive",label:"3) Apiarios","no-caps":""}),o(c,{name:"mapa",icon:"map",label:"4) Mapa","no-caps":""})]),_:1},8,["modelValue"]),o(C),o(V,{modelValue:a.tab,"onUpdate:modelValue":r[3]||(r[3]=s=>a.tab=s),animated:""},{default:t(()=>[o(i,{name:"general",class:"q-pa-none"},{default:t(()=>[!a.loading&&a.productor?(p(),l(v,{key:0},{default:t(()=>[o(f,{productor:a.productor,"banner-msg":"Actualiza los datos y guarda los cambios",onSaved:n.onSaved,onCancel:r[2]||(r[2]=s=>e.$router.back())},null,8,["productor","onSaved"])]),_:1})):Q("",!0)]),_:1}),o(i,{name:"certs",class:"q-pa-none"},{default:t(()=>[o(P,{productor:a.productor,onUpdated:n.fetchProductor},null,8,["productor","onUpdated"])]),_:1}),o(i,{name:"apiarios",class:"q-pa-none"},{default:t(()=>[o(b,{productor:a.productor,onUpdated:n.fetchProductor},null,8,["productor","onUpdated"])]),_:1}),o(i,{name:"mapa",class:"q-pa-none"},{default:t(()=>[o(g,{productor:a.productor,onUpdated:n.fetchProductor},null,8,["productor","onUpdated"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const ro=_(A,[["render",M]]);export{ro as default};
