import{au as ve,v as le,g as re,av as be,x as h,j as P,aw as _e,ax as ye,G as xe,J as Ce,r as ke,p as Ve,ay as te,az as ze,aA as Pe,ag as O,f as C,_ as se,c as z,o as u,w as n,a as o,Q as q,e as B,b as r,d as x,O as ie,aj as j,a9 as v,a8 as p,a7 as _,t as g,ai as we,h as Se,a6 as Te,ad as Ae,ak as Oe,P as Ne,R as Ee,ah as De,aa as L,ab as H,af as Fe}from"./index-BYmx5CNZ.js";import{Q as Y}from"./QSpace-yjffq0IW.js";import{Q as Ue}from"./QBadge-XCEdf9Kh.js";import{Q as V}from"./QSelect-CE_gFS-5.js";import{Q as Ie}from"./QSlideTransition-CvybpBwX.js";import{Q as A}from"./QChip-BFVaIQP4.js";import{Q as W}from"./QTooltip-BGE4xi2l.js";import{Q as qe}from"./QMarkupTable-CxD-gDWx.js";import{b as ne}from"./format-WFf_bcNU.js";import{Q as Be}from"./QPage-p00VibaV.js";import{h as oe}from"./moment-C5S46NFB.js";import{Q as Qe,b as Me}from"./position-engine-WcV6P5pk.js";import{Q as ae}from"./QBanner-DRdTdlhT.js";import{Q as Le}from"./QForm-BDdhN3pk.js";import"./selection-BcgxACWv.js";const Re={...ve,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Z=50,de=2*Z,ue=de*Math.PI,je=Math.round(ue*1e3)/1e3,Ge=le({name:"QCircularProgress",props:{...Re,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:i}){const{proxy:{$q:d}}=re(),c=be(e),t=h(()=>{const b=(d.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(d.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-b}deg)`:`rotate3d(0, 0, 1, ${b-90}deg)`}}),l=h(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),s=h(()=>de/(1-e.thickness/2)),a=h(()=>`${s.value/2} ${s.value/2} ${s.value} ${s.value}`),y=h(()=>ne(e.value,e.min,e.max)),G=h(()=>e.max-e.min),w=h(()=>e.thickness/2*s.value),K=h(()=>{const b=(e.max-y.value)/G.value,k=e.rounded===!0&&y.value<e.max&&b<.25?w.value/2*(1-b/.25):0;return ue*b+k});function E({thickness:b,offset:k,color:Q,cls:D,rounded:J}){return P("circle",{class:"q-circular-progress__"+D+(Q!==void 0?` text-${Q}`:""),style:l.value,fill:"transparent",stroke:"currentColor","stroke-width":b,"stroke-dasharray":je,"stroke-dashoffset":k,"stroke-linecap":J,cx:s.value,cy:s.value,r:Z})}return()=>{const b=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&b.push(P("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Z-w.value/2,cx:s.value,cy:s.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&b.push(E({cls:"track",thickness:w.value,offset:0,color:e.trackColor})),b.push(E({cls:"circle",thickness:w.value,offset:K.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const k=[P("svg",{class:"q-circular-progress__svg",style:t.value,viewBox:a.value,"aria-hidden":"true"},b)];return e.showValue===!0&&k.push(P("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},i.default!==void 0?i.default():[P("div",y.value)])),P("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:c.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:y.value},_e(i.internal,k))}}});function R(e,i){return[!0,!1].includes(e)?e:i}const Ke=le({name:"QPagination",props:{...xe,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||ye.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:i}){const{proxy:d}=re(),{$q:c}=d,t=Ce(e,c),l=h(()=>parseInt(e.min,10)),s=h(()=>parseInt(e.max,10)),a=h(()=>parseInt(e.maxPages,10)),y=h(()=>k.value+" / "+s.value),G=h(()=>R(e.boundaryLinks,e.input)),w=h(()=>R(e.boundaryNumbers,!e.input)),K=h(()=>R(e.directionLinks,e.input)),E=h(()=>R(e.ellipses,!e.input)),b=ke(null),k=h({get:()=>e.modelValue,set:m=>{if(m=parseInt(m,10),e.disable||isNaN(m))return;const f=ne(m,l.value,s.value);e.modelValue!==f&&i("update:modelValue",f)}});Ve(()=>`${l.value}|${s.value}`,()=>{k.value=e.modelValue});const Q=h(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),D=h(()=>e.gutter in te?`${te[e.gutter]}px`:e.gutter||null),J=h(()=>D.value!==null?`--q-pagination-gutter-parent:-${D.value};--q-pagination-gutter-child:${D.value}`:null),M=h(()=>{const m=[e.iconFirst||c.iconSet.pagination.first,e.iconPrev||c.iconSet.pagination.prev,e.iconNext||c.iconSet.pagination.next,e.iconLast||c.iconSet.pagination.last];return c.lang.rtl===!0?m.reverse():m}),ce=h(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),X=h(()=>ze(e,"flat")),me=h(()=>({[X.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),fe=h(()=>{const m={[X.value]:!1};return e.activeDesign!==""&&(m[e.activeDesign]=!0),m}),pe=h(()=>({...fe.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),F=h(()=>{let m=Math.max(a.value,1+(E.value?2:0)+(w.value?2:0));const f={pgFrom:l.value,pgTo:s.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(s.value).length)}em`}};return a.value&&m<s.value-l.value+1&&(m=1+Math.floor(m/2)*2,f.pgFrom=Math.max(l.value,Math.min(s.value-m+1,e.modelValue-Math.floor(m/2))),f.pgTo=Math.min(s.value,f.pgFrom+m-1),w.value&&(f.boundaryStart=!0,f.pgFrom++),E.value&&f.pgFrom>l.value+(w.value?1:0)&&(f.ellipsesStart=!0,f.pgFrom++),w.value&&(f.boundaryEnd=!0,f.pgTo--),E.value&&f.pgTo<s.value-(w.value?1:0)&&(f.ellipsesEnd=!0,f.pgTo--)),f});function $(m){k.value=m}function ge(m){k.value=k.value+m}const he=h(()=>{function m(){k.value=b.value,b.value=null}return{"onUpdate:modelValue":f=>{b.value=f},onKeyup:f=>{Pe(f,13)===!0&&m()},onBlur:m}});function T(m,f,U){const N={"aria-label":f,"aria-current":"false",...me.value,...m};return U===!0&&Object.assign(N,{"aria-current":"true",...pe.value}),f!==void 0&&(e.toFn!==void 0?N.to=e.toFn(f):N.onClick=()=>{$(f)}),P(C,N)}return Object.assign(d,{set:$,setByOffset:ge}),()=>{const m=[],f=[];let U;if(G.value===!0&&(m.push(T({key:"bls",disable:e.disable||e.modelValue<=l.value,icon:M.value[0],"aria-label":c.lang.pagination.first},l.value)),f.unshift(T({key:"ble",disable:e.disable||e.modelValue>=s.value,icon:M.value[3],"aria-label":c.lang.pagination.last},s.value))),K.value===!0&&(m.push(T({key:"bdp",disable:e.disable||e.modelValue<=l.value,icon:M.value[1],"aria-label":c.lang.pagination.prev},e.modelValue-1)),f.unshift(T({key:"bdn",disable:e.disable||e.modelValue>=s.value,icon:M.value[2],"aria-label":c.lang.pagination.next},e.modelValue+1))),e.input!==!0){U=[];const{pgFrom:N,pgTo:ee,marginalStyle:I}=F.value;if(F.value.boundaryStart===!0){const S=l.value===e.modelValue;m.push(T({key:"bns",style:I,disable:e.disable,label:l.value},l.value,S))}if(F.value.boundaryEnd===!0){const S=s.value===e.modelValue;f.unshift(T({key:"bne",style:I,disable:e.disable,label:s.value},s.value,S))}F.value.ellipsesStart===!0&&m.push(T({key:"bes",style:I,disable:e.disable,label:"…",ripple:!1},N-1)),F.value.ellipsesEnd===!0&&f.unshift(T({key:"bee",style:I,disable:e.disable,label:"…",ripple:!1},ee+1));for(let S=N;S<=ee;S++)U.push(T({key:`bpg${S}`,style:I,disable:e.disable,label:S},S,S===e.modelValue))}return P("div",{class:Q.value,...ce.value},[P("div",{class:"q-pagination__content row no-wrap items-center",style:J.value},[...m,e.input===!0?P(O,{class:"inline",style:{width:`${y.value.length/1.5}em`},type:"number",dense:!0,value:b.value,disable:e.disable,dark:t.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:y.value,min:l.value,max:s.value,...he.value}):P("div",{class:"q-pagination__middle row justify-center"},U),...f])])}}}),Je={name:"ProductorModalCrear",emits:["created","close"],data(){return{showDialog:!1,saving:!1,deptOptions:["LPZ","CBB","SCZ","ORU","POT","PND","BEN","TAR","SUC","OTRO"],sexoOptions:[{label:"Masculino",value:1},{label:"Femenino",value:2}],orgOptions:[],orgLoading:!1,form:{nombre:"",apellidos:"",numcarnet:"",expedido:"",sexo:null,organizacion:null,comunidad:"",num_celular:"",estado:"VIGENTE"}}},watch:{"form.organizacion"(e){e&&e.comunidad&&(this.form.comunidad=e.comunidad)}},methods:{abrir(){this.showDialog=!0,this.resetForm()},cerrar(){this.showDialog=!1,this.$emit("close")},resetForm(){this.form={nombre:"",apellidos:"",numcarnet:"",expedido:"",sexo:null,organizacion:null,comunidad:"",num_celular:"",estado:"VIGENTE"},this.$refs.formRef?.resetValidation()},async filterOrganizaciones(e,i){i(async()=>{this.orgLoading=!0;try{const{data:d}=await this.$axios.get("organizaciones",{params:{search:e||void 0,paginate:!1}});this.orgOptions=Array.isArray(d)?d:d?.data||[]}catch{this.orgOptions=[],this.$alert?.error?.("Error al buscar organizaciones")}finally{this.orgLoading=!1}})},async verificarDuplicados(){if(!this.form.numcarnet)return!1;try{const{data:e}=await this.$axios.get("productores-verificar-duplicado",{params:{numcarnet:this.form.numcarnet}});return e.existe?(this.$q.dialog({title:"Productor ya registrado",message:`Ya existe un productor con este CI:
              
              Nombre: ${e.datos.nombre_completo}
              CI: ${e.datos.numcarnet}
              Estado: ${e.datos.estado}
              
              ¿Desea ver el registro existente?`,cancel:{label:"Cancelar",flat:!0,color:"negative"},ok:{label:"Ver registro",color:"primary"},persistent:!0}).onOk(()=>{this.$router.push(`/productores/editar/${e.productor_id}`),this.cerrar()}),!0):!1}catch{return!1}},async guardar(e=!1){if(!await this.$refs.formRef.validate()){this.$alert?.warning?.("Por favor completa todos los campos requeridos");return}if(!await this.verificarDuplicados()){this.saving=!0;try{const c={nombre:this.form.nombre.trim(),apellidos:this.form.apellidos.trim(),numcarnet:this.form.numcarnet.trim(),expedido:this.form.expedido||"",sexo:this.form.sexo||null,organizacion_id:this.form.organizacion.id,comunidad:this.form.comunidad?.trim()||"",num_celular:this.form.num_celular?.trim()||"",estado:this.form.estado,runsa:"",sub_codigo:"",ocupacion:"APICULTOR",fecha_registro:new Date().toISOString().slice(0,10),seleccion:0},{data:t}=await this.$axios.post("productores",c);this.$alert?.success?.("Productor creado exitosamente"),this.$emit("created",t),e&&this.$router.push(`/productores/editar/${t.id}`),this.cerrar()}catch(c){const t=c.response?.data?.message||"No se pudo crear el productor";this.$alert?.error?.(t)}finally{this.saving=!1}}}}},He={class:"row q-col-gutter-md"},We={class:"col-12 col-sm-6"},Ye={class:"col-12 col-sm-6"},Ze={class:"col-12 col-sm-6"},Xe={class:"col-12 col-sm-6"},$e={class:"col-12 col-sm-6"},et={class:"col-12"},tt={key:0,class:"col-12"},it={class:"text-caption"},ot={key:0,class:"text-caption q-mt-xs"},at={class:"col-12 col-sm-6"},lt={class:"col-12 col-sm-6"},rt={class:"col-12 col-sm-6"},st={class:"q-mt-md"};function nt(e,i,d,c,t,l){return u(),z(Se,{modelValue:t.showDialog,"onUpdate:modelValue":i[11]||(i[11]=s=>t.showDialog=s),persistent:""},{default:n(()=>[o(q,{style:{width:"700px","max-width":"90vw"}},{default:n(()=>[o(B,{class:"row items-center bg-primary text-white"},{default:n(()=>[o(x,{name:"person_add",size:"sm",class:"q-mr-sm"}),i[12]||(i[12]=r("div",{class:"text-h6"},"Registro Rápido de Productor",-1)),o(Y),o(C,{icon:"close",flat:"",round:"",dense:"",onClick:l.cerrar},null,8,["onClick"])]),_:1}),o(ie),o(B,{class:"q-pt-md"},{default:n(()=>[o(Le,{onSubmit:j(l.guardar,["prevent"]),ref:"formRef"},{default:n(()=>[r("div",He,[r("div",We,[o(O,{modelValue:t.form.nombre,"onUpdate:modelValue":i[0]||(i[0]=s=>t.form.nombre=s),label:"Nombre *",outlined:"",dense:"",rules:[s=>!!s||"El nombre es requerido"],maxlength:"200"},{prepend:n(()=>[o(x,{name:"person"})]),_:1},8,["modelValue","rules"])]),r("div",Ye,[o(O,{modelValue:t.form.apellidos,"onUpdate:modelValue":i[1]||(i[1]=s=>t.form.apellidos=s),label:"Apellidos *",outlined:"",dense:"",rules:[s=>!!s||"Los apellidos son requeridos"],maxlength:"200"},{prepend:n(()=>[o(x,{name:"badge"})]),_:1},8,["modelValue","rules"])]),r("div",Ze,[o(O,{modelValue:t.form.numcarnet,"onUpdate:modelValue":i[2]||(i[2]=s=>t.form.numcarnet=s),label:"N° Carnet/CI *",outlined:"",dense:"",rules:[s=>!!s||"El CI es requerido"],maxlength:"20",onBlur:l.verificarDuplicados},{prepend:n(()=>[o(x,{name:"credit_card"})]),_:1},8,["modelValue","rules","onBlur"])]),r("div",Xe,[o(V,{modelValue:t.form.expedido,"onUpdate:modelValue":i[3]||(i[3]=s=>t.form.expedido=s),label:"Expedido",outlined:"",dense:"",options:t.deptOptions},{prepend:n(()=>[o(x,{name:"location_on"})]),_:1},8,["modelValue","options"])]),r("div",$e,[o(V,{modelValue:t.form.sexo,"onUpdate:modelValue":i[4]||(i[4]=s=>t.form.sexo=s),label:"Sexo",outlined:"",dense:"",options:t.sexoOptions,"option-label":"label","option-value":"value","emit-value":"","map-options":""},{prepend:n(()=>[o(x,{name:"wc"})]),_:1},8,["modelValue","options"])]),r("div",et,[o(V,{modelValue:t.form.organizacion,"onUpdate:modelValue":i[5]||(i[5]=s=>t.form.organizacion=s),label:"Organización *",outlined:"",dense:"","use-input":"","fill-input":"","input-debounce":"300",options:t.orgOptions,"option-label":"nombre_organiza",loading:t.orgLoading,rules:[s=>!!s||"La organización es requerida"],onFilter:l.filterOrganizaciones,hint:"Escribe para buscar la organización"},{prepend:n(()=>[o(x,{name:"business"})]),"no-option":n(()=>[o(Qe,null,{default:n(()=>[o(Me,{class:"text-grey"},{default:n(()=>i[13]||(i[13]=[_(" Sin resultados. Escribe para buscar... ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","loading","rules","onFilter"])]),t.form.organizacion?(u(),v("div",tt,[o(ae,{dense:"",class:"bg-blue-1 text-blue-9"},{avatar:n(()=>[o(x,{name:"info",color:"blue"})]),default:n(()=>[r("div",it,[i[14]||(i[14]=r("strong",null,"Ubicación:",-1)),_(" "+g(t.form.organizacion.departamento?.nombre_departamento)+" → "+g(t.form.organizacion.provincia?.nombre_provincia)+" → "+g(t.form.organizacion.municipio?.nombre_municipio),1)]),t.form.organizacion.comunidad?(u(),v("div",ot,[i[15]||(i[15]=r("strong",null,"Comunidad:",-1)),_(" "+g(t.form.organizacion.comunidad),1)])):p("",!0)]),_:1})])):p("",!0),r("div",at,[o(O,{modelValue:t.form.comunidad,"onUpdate:modelValue":i[6]||(i[6]=s=>t.form.comunidad=s),label:"Comunidad",outlined:"",dense:"",maxlength:"100",hint:"Se autocompleta desde la organización"},{prepend:n(()=>[o(x,{name:"terrain"})]),_:1},8,["modelValue"])]),r("div",lt,[o(O,{modelValue:t.form.num_celular,"onUpdate:modelValue":i[7]||(i[7]=s=>t.form.num_celular=s),label:"Celular",outlined:"",dense:"",maxlength:"15",hint:"Recomendado para contacto"},{prepend:n(()=>[o(x,{name:"phone"})]),_:1},8,["modelValue"])]),r("div",rt,[o(V,{modelValue:t.form.estado,"onUpdate:modelValue":i[8]||(i[8]=s=>t.form.estado=s),label:"Estado",outlined:"",dense:"",options:["VIGENTE","VENCIDO","ACTIVO","INACTIVO"]},{prepend:n(()=>[o(x,{name:"check_circle"})]),_:1},8,["modelValue"])])]),r("div",st,[o(ae,{dense:"",class:"bg-grey-2"},{avatar:n(()=>[o(x,{name:"lightbulb",color:"orange"})]),default:n(()=>[i[16]||(i[16]=r("div",{class:"text-caption"},[r("strong",null,"Nota:"),_(" Estás creando un registro rápido con los datos esenciales. Puedes completar información adicional (dirección, fechas, RUNSA, etc.) después de guardar. ")],-1))]),_:1})])]),_:1},8,["onSubmit"])]),_:1}),o(ie),o(we,{align:"right",class:"q-pa-md"},{default:n(()=>[o(C,{flat:"",label:"Cancelar",color:"negative",onClick:l.cerrar,disable:t.saving},null,8,["onClick","disable"]),o(C,{unelevated:"",label:"Guardar",color:"primary",onClick:i[9]||(i[9]=s=>l.guardar(!1)),loading:t.saving,icon:"save"},null,8,["loading"]),o(C,{unelevated:"",label:"Guardar y completar datos",color:"secondary",onClick:i[10]||(i[10]=s=>l.guardar(!0)),loading:t.saving,icon:"edit"},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const dt=se(Je,[["render",nt],["__scopeId","data-v-d30130e1"]]),ut={name:"ProductoresPage",components:{ProductorModalCrear:dt},data(){return{rows:[],loading:!1,producto:{},serverCount:0,pagination:{page:1,perPage:10},loadingTree:!1,tree:[],showModalCrear:!1,mostrarFiltrosAvanzados:!1,searchDebounceTimer:null,showModalCrear:!1,filters:{search:"",estado:null,sexo:null,fecha_desde:null,fecha_hasta:null,departamento_id:null,provincia_id:null,municipio_id:null},sexoOptions:[{label:"Masculino",value:1},{label:"Femenino",value:2}],trazabilidadActiva:!1,trazabilidad:{gestion:oe().year(),producto_id:1},gestionesOptions:[],productosOptions:[],loadingTrazabilidad:!1,mesesTemporada:[{offset:0,nombre:"Jul"},{offset:1,nombre:"Ago"},{offset:2,nombre:"Sep"},{offset:3,nombre:"Oct"},{offset:4,nombre:"Nov"},{offset:5,nombre:"Dic"},{offset:6,nombre:"Ene"},{offset:7,nombre:"Feb"},{offset:8,nombre:"Mar"},{offset:9,nombre:"Abr"},{offset:10,nombre:"May"},{offset:11,nombre:"Jun"}]}},computed:{pageCount(){return Math.max(1,Math.ceil(this.serverCount/this.pagination.perPage))},depOptions(){return Array.isArray(this.tree)?this.tree.map(e=>({label:e.nombre_departamento,value:e.id})):[]},provOptions(){const e=this.filters.departamento_id;return e?((this.tree||[]).find(d=>d.id===e)?.provincias||[]).map(d=>({label:d.nombre_provincia,value:d.id})):[]},munOptions(){const e=this.filters.departamento_id,i=this.filters.provincia_id;return!e||!i?[]:(((this.tree||[]).find(t=>t.id===e)?.provincias||[]).find(t=>t.id===i)?.municipios||[]).map(t=>({label:t.nombre_municipio,value:t.id}))},filtrosActivosCount(){let e=0;return this.filters.estado&&e++,this.filters.sexo&&e++,this.filters.fecha_desde&&e++,this.filters.fecha_hasta&&e++,this.filters.departamento_id&&e++,this.filters.provincia_id&&e++,this.filters.municipio_id&&e++,e}},watch:{"filters.search"(e){this.debouncedSearch()},showModalCrear(e){e&&this.$refs.modalCrear&&this.$refs.modalCrear.abrir()}},mounted(){this.loadTree(),this.generarGestiones(),this.cargarProductos(),this.fetchPage()},beforeUnmount(){this.searchDebounceTimer&&(clearTimeout(this.searchDebounceTimer),this.searchDebounceTimer=null)},methods:{debouncedSearch(){this.searchDebounceTimer&&clearTimeout(this.searchDebounceTimer),this.searchDebounceTimer=setTimeout(()=>{this.filters.search&&(this.filters.search=this.filters.search.trim().replace(/\s+/g," "));const e=this.filters.search?.length||0;(e===0||e>=3)&&this.applyFilters()},600)},removerFiltro(e){this.filters[e]=null,e==="departamento_id"?(this.filters.provincia_id=null,this.filters.municipio_id=null):e==="provincia_id"&&(this.filters.municipio_id=null),this.applyFilters()},limpiarTodosFiltros(){this.filters.estado=null,this.filters.sexo=null,this.filters.fecha_desde=null,this.filters.fecha_hasta=null,this.filters.departamento_id=null,this.filters.provincia_id=null,this.filters.municipio_id=null,this.applyFilters()},async genrarExcel(){this.loading=!0;const e={page:this.pagination.page,per_page:this.pagination.perPage,sort_by:"id",sort_dir:"desc",search:this.filters.search||void 0,estado:this.filters.estado||void 0,sexo:this.filters.sexo||void 0,fecha_desde:this.filters.fecha_desde||void 0,fecha_hasta:this.filters.fecha_hasta||void 0,departamento_id:this.filters.departamento_id||void 0,provincia_id:this.filters.provincia_id||void 0,municipio_id:this.filters.municipio_id||void 0};this.trazabilidadActiva&&(e.incluir_trazabilidad=!0,e.gestion=this.trazabilidad.gestion,e.producto_id=this.trazabilidad.producto_id),await this.$axios.post("productorExcel",e,{responseType:"blob"}).then(i=>{const d=new Blob([i.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),c=window.URL.createObjectURL(d),t=document.createElement("a");t.href=c;const l=this.trazabilidadActiva?"proveedores_trazabilidad.xlsx":"proveedores.xlsx";t.setAttribute("download",l),document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(c)}).catch(i=>{this.$alert?.error?.(i.response?.data?.message||"No se pudo generar el reporte.")}).finally(()=>{this.loading=!1})},chipColor(e){return e==="VIGENTE"||e==="ACTIVO"?"green":e==="VENCIDO"||e==="INACTIVO"?"red":"grey"},async loadTree(){this.loadingTree=!0;try{const{data:e}=await this.$axios.get("geo/tree");this.tree=e}catch(e){this.$alert?.error?.(e.response?.data?.message||"No se pudo cargar el árbol geográfico")}finally{this.loadingTree=!1}},async fetchPage(){this.loading=!0,this.rows=[];try{const{data:e}=await this.$axios.get("productores",{params:{page:this.pagination.page,per_page:this.pagination.perPage,sort_by:"id",sort_dir:"desc",search:this.filters.search||void 0,estado:this.filters.estado||void 0,sexo:this.filters.sexo||void 0,fecha_desde:this.filters.fecha_desde||void 0,fecha_hasta:this.filters.fecha_hasta||void 0,departamento_id:this.filters.departamento_id||void 0,provincia_id:this.filters.provincia_id||void 0,municipio_id:this.filters.municipio_id||void 0}});this.rows=e.data,this.serverCount=e.total,this.trazabilidadActiva&&await this.cargarTrazabilidad(),this.pagination.page>this.pageCount&&(this.pagination.page=this.pageCount)}catch(e){this.$alert?.error?.(e.response?.data?.message||"No se pudo cargar productores")}finally{this.loading=!1}},changePage(){this.fetchPage()},changePerPage(){this.pagination.page=1,this.fetchPage()},applyFilters(){this.searchDebounceTimer&&(clearTimeout(this.searchDebounceTimer),this.searchDebounceTimer=null),this.filters.search&&(this.filters.search=this.filters.search.trim().replace(/\s+/g," ")),this.pagination.page=1,this.fetchPage()},onDepChange(){this.filters.provincia_id=null,this.filters.municipio_id=null,this.applyFilters()},onProvChange(){this.filters.municipio_id=null,this.applyFilters()},openDetails(e){this.$router.push("/productores/editar/"+e.id)},generarGestiones(){const e=oe().year(),i=[];for(let d=e;d>=2020;d--)i.push(d);this.gestionesOptions=i},async cargarProductos(){try{const{data:e}=await this.$axios.get("/productos/tipo/1");this.productosOptions=e?.data||e||[]}catch{this.$alert?.error?.("No se pudieron cargar los productos")}},async toggleTrazabilidad(e){e?await this.cargarTrazabilidad():this.limpiarAcopiosMensuales()},async cargarTrazabilidad(){if(!(!this.trazabilidadActiva||this.rows.length===0)){this.loadingTrazabilidad=!0;try{const e=this.rows.map(d=>d.id),{data:i}=await this.$axios.post("/productores/acopios-gestion-lote",{productor_ids:e,gestion:this.trazabilidad.gestion,producto_id:this.trazabilidad.producto_id});this.rows.forEach(d=>{const c=i.find(t=>t.productor_id===d.id);c?(d.acopios_meses=c.meses_array,d.total_acopios=c.total_kg):(d.acopios_meses={},d.total_acopios=0)})}catch{this.$alert?.error?.("Error al cargar datos de trazabilidad")}finally{this.loadingTrazabilidad=!1}}},limpiarAcopiosMensuales(){this.rows.forEach(e=>{e.acopios_meses={},e.total_acopios=0})},formatNumber(e){const i=Number(e);return isNaN(i)?"0.00":i.toFixed(2)},colorPorCantidad(e){const i=Number(e);return i>30?"cantidad-alta":i>=10?"cantidad-media":"cantidad-baja"},mesConAnio(e){const i=e.offset<=5?this.trazabilidad.gestion:this.trazabilidad.gestion+1;return`${e.nombre} ${i.toString().slice(-2)}`},onProductorCreado(e){this.applyFilters()},deleteProductor(e){this.$q.dialog({title:"Confirmar eliminación",message:`¿Está seguro de eliminar al productor ${e.nombre_completo}?`,cancel:{label:"Cancelar",flat:!0,color:"primary"},ok:{label:"Eliminar",color:"negative"},persistent:!0}).onOk(async()=>{try{await this.$axios.delete(`productores/${e.id}`),this.$alert?.success?.("Productor eliminado correctamente"),this.applyFilters()}catch(i){const d=i.response?.data?.message||"Error al eliminar el productor";this.$alert?.error?.(d)}})},async printProductor(e){try{const i=await this.$axios.get(`productores/${e.id}/reporte`,{responseType:"blob"}),d=window.URL.createObjectURL(new Blob([i.data])),c=document.createElement("a");c.href=d,c.setAttribute("download",`productor_${e.id}_${e.nombre_completo}.pdf`),document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(d)}catch(i){i.response?.status===404?(this.$alert?.warning?.("Endpoint de reporte no implementado. Abriendo vista de edición."),window.open(`/productores/editar/${e.id}`,"_blank")):this.$alert?.error?.("Error al generar el reporte")}}}},ct={class:"row items-center q-gutter-sm q-mb-sm"},mt={class:"col-12 col-md-4"},ft={class:"col-auto"},pt={class:"col-auto"},gt={class:"col-12"},ht={class:"row q-col-gutter-sm"},vt={class:"col-12 col-md-3"},bt={class:"col-12 col-md-2"},_t={class:"col-12 col-md-2"},yt={class:"col-12 col-md-2"},xt={class:"col-12 col-md-3"},Ct={class:"col-12 col-md-3"},kt={class:"col-12 col-md-3"},Vt={class:"row items-center q-gutter-sm"},zt={class:"col-auto"},Pt={class:"col-auto"},wt={class:"col-auto"},St={class:"col-auto"},Tt={class:"bg-primary text-white"},At={key:0,class:"text-left"},Ot={key:1,class:"text-left"},Nt={key:2,class:"text-left"},Et={key:3,class:"text-left"},Dt={key:4,class:"text-left"},Ft={key:5,class:"text-center"},Ut={class:"text-caption"},It={class:"text-caption text-weight-light"},qt={key:7,class:"text-right bg-blue-10 total-column"},Bt=["onClick"],Qt={class:"text-left"},Mt={class:"text-left"},Lt={key:0,class:"text-left"},Rt={class:"text-left"},jt={class:"text-weight-medium"},Gt={class:"text-caption text-grey-7"},Kt={key:1,class:"text-left"},Jt={key:2,class:"text-left"},Ht={key:3,class:"text-left"},Wt={class:"text-left"},Yt={key:4,class:"text-left"},Zt={key:5,class:"text-center acciones-cell"},Xt={key:0,class:"text-weight-medium"},$t={key:1,class:"text-grey-5"},ei={key:7,class:"text-right text-weight-bold text-primary total-column"},ti={key:0},ii=["colspan"],oi={key:0,class:"absolute-full flex flex-center bg-transparent"},ai={class:"q-pa-sm row items-center justify-between"},li={class:"text-caption"},ri={class:"row items-center q-gutter-sm"};function si(e,i,d,c,t,l){const s=Te("ProductorModalCrear");return u(),z(Be,{class:"q-pa-md"},{default:n(()=>[r("div",ct,[o(Ae,{icon:"person_search",color:"primary","text-color":"white"}),i[23]||(i[23]=r("div",{class:"text-h6 text-weight-bold"},"Productores",-1)),o(Y),o(C,{color:"primary",icon:"forest",label:"Actualizar árbol geo",onClick:l.loadTree,loading:t.loadingTree,"no-caps":""},null,8,["onClick","loading"]),o(C,{color:"primary",icon:"person_add",label:"Nuevo Productor",loading:t.loading,onClick:i[0]||(i[0]=a=>t.showModalCrear=!0),"no-caps":""},null,8,["loading"]),o(C,{color:"green",icon:"download",label:"EXCEL",onClick:l.genrarExcel,loading:t.loading,"no-caps":""},null,8,["onClick","loading"])]),o(q,{flat:"",bordered:"",class:"q-mb-md"},{default:n(()=>[o(B,{class:"row q-col-gutter-sm"},{default:n(()=>[r("div",mt,[o(O,{modelValue:t.filters.search,"onUpdate:modelValue":i[1]||(i[1]=a=>t.filters.search=a),dense:"",outlined:"",placeholder:"Buscar por nombre, apellido o CI...",loading:t.loading,clearable:"",onKeyup:Oe(l.applyFilters,["enter"])},{append:n(()=>[o(x,{name:"search"})]),_:1},8,["modelValue","loading","onKeyup"])]),r("div",ft,[o(C,{flat:"",dense:"",icon:t.mostrarFiltrosAvanzados?"filter_list_off":"filter_list",label:t.mostrarFiltrosAvanzados?"Ocultar filtros":"Más filtros",onClick:i[2]||(i[2]=a=>t.mostrarFiltrosAvanzados=!t.mostrarFiltrosAvanzados),color:"primary"},{default:n(()=>[l.filtrosActivosCount>0?(u(),z(Ue,{key:0,color:"red",floating:""},{default:n(()=>[_(g(l.filtrosActivosCount),1)]),_:1})):p("",!0)]),_:1},8,["icon","label"])]),r("div",pt,[o(C,{color:"secondary",icon:"refresh",label:"Aplicar",loading:t.loading,onClick:l.applyFilters,"no-caps":""},null,8,["loading","onClick"])]),o(Ie,null,{default:n(()=>[Ne(r("div",gt,[r("div",ht,[r("div",vt,[o(V,{modelValue:t.filters.estado,"onUpdate:modelValue":i[3]||(i[3]=a=>t.filters.estado=a),options:["VIGENTE","VENCIDO","ACTIVO","INACTIVO"],dense:"",outlined:"",label:"Estado",clearable:""},null,8,["modelValue"])]),r("div",bt,[o(V,{modelValue:t.filters.sexo,"onUpdate:modelValue":i[4]||(i[4]=a=>t.filters.sexo=a),options:t.sexoOptions,dense:"",outlined:"",label:"Sexo",clearable:""},null,8,["modelValue","options"])]),r("div",_t,[o(O,{modelValue:t.filters.fecha_desde,"onUpdate:modelValue":i[5]||(i[5]=a=>t.filters.fecha_desde=a),type:"date",dense:"",outlined:"",label:"Desde"},null,8,["modelValue"])]),r("div",yt,[o(O,{modelValue:t.filters.fecha_hasta,"onUpdate:modelValue":i[6]||(i[6]=a=>t.filters.fecha_hasta=a),type:"date",dense:"",outlined:"",label:"Hasta"},null,8,["modelValue"])]),r("div",xt,[o(V,{modelValue:t.filters.departamento_id,"onUpdate:modelValue":[i[7]||(i[7]=a=>t.filters.departamento_id=a),l.onDepChange],options:l.depOptions,"option-label":"label","option-value":"value","emit-value":"","map-options":"",dense:"",outlined:"",label:"Departamento"},null,8,["modelValue","options","onUpdate:modelValue"])]),r("div",Ct,[o(V,{modelValue:t.filters.provincia_id,"onUpdate:modelValue":[i[8]||(i[8]=a=>t.filters.provincia_id=a),l.onProvChange],options:l.provOptions,"option-label":"label","option-value":"value","emit-value":"","map-options":"",dense:"",outlined:"",label:"Provincia",disable:!t.filters.departamento_id},null,8,["modelValue","options","disable","onUpdate:modelValue"])]),r("div",kt,[o(V,{modelValue:t.filters.municipio_id,"onUpdate:modelValue":i[9]||(i[9]=a=>t.filters.municipio_id=a),options:l.munOptions,"option-label":"label","option-value":"value","emit-value":"","map-options":"",dense:"",outlined:"",label:"Municipio",disable:!t.filters.provincia_id},null,8,["modelValue","options","disable"])])])],512),[[Ee,t.mostrarFiltrosAvanzados]])]),_:1})]),_:1})]),_:1}),l.filtrosActivosCount>0?(u(),z(q,{key:0,flat:"",bordered:"",class:"q-mb-md"},{default:n(()=>[o(B,{class:"q-pa-sm"},{default:n(()=>[r("div",Vt,[i[24]||(i[24]=r("div",{class:"text-caption text-grey-7"},"Filtros activos:",-1)),t.filters.estado?(u(),z(A,{key:0,removable:"",onRemove:i[10]||(i[10]=a=>l.removerFiltro("estado")),color:"primary","text-color":"white",size:"sm"},{default:n(()=>[_(" Estado: "+g(t.filters.estado),1)]),_:1})):p("",!0),t.filters.sexo?(u(),z(A,{key:1,removable:"",onRemove:i[11]||(i[11]=a=>l.removerFiltro("sexo")),color:"primary","text-color":"white",size:"sm"},{default:n(()=>[_(" Sexo: "+g(t.sexoOptions.find(a=>a.value===t.filters.sexo)?.label),1)]),_:1})):p("",!0),t.filters.fecha_desde?(u(),z(A,{key:2,removable:"",onRemove:i[12]||(i[12]=a=>l.removerFiltro("fecha_desde")),color:"primary","text-color":"white",size:"sm"},{default:n(()=>[_(" Desde: "+g(t.filters.fecha_desde),1)]),_:1})):p("",!0),t.filters.fecha_hasta?(u(),z(A,{key:3,removable:"",onRemove:i[13]||(i[13]=a=>l.removerFiltro("fecha_hasta")),color:"primary","text-color":"white",size:"sm"},{default:n(()=>[_(" Hasta: "+g(t.filters.fecha_hasta),1)]),_:1})):p("",!0),t.filters.departamento_id?(u(),z(A,{key:4,removable:"",onRemove:i[14]||(i[14]=a=>l.removerFiltro("departamento_id")),color:"primary","text-color":"white",size:"sm"},{default:n(()=>[_(" Depto: "+g(l.depOptions.find(a=>a.value===t.filters.departamento_id)?.label),1)]),_:1})):p("",!0),t.filters.provincia_id?(u(),z(A,{key:5,removable:"",onRemove:i[15]||(i[15]=a=>l.removerFiltro("provincia_id")),color:"primary","text-color":"white",size:"sm"},{default:n(()=>[_(" Prov: "+g(l.provOptions.find(a=>a.value===t.filters.provincia_id)?.label),1)]),_:1})):p("",!0),t.filters.municipio_id?(u(),z(A,{key:6,removable:"",onRemove:i[16]||(i[16]=a=>l.removerFiltro("municipio_id")),color:"primary","text-color":"white",size:"sm"},{default:n(()=>[_(" Mun: "+g(l.munOptions.find(a=>a.value===t.filters.municipio_id)?.label),1)]),_:1})):p("",!0),o(Y),o(C,{flat:"",dense:"",label:"Limpiar filtros",icon:"clear_all",color:"negative",size:"sm",onClick:l.limpiarTodosFiltros},null,8,["onClick"])])]),_:1})]),_:1})):p("",!0),o(q,{flat:"",bordered:"",class:"q-mb-md"},{default:n(()=>[o(B,{class:"row q-col-gutter-md items-center bg-blue-1"},{default:n(()=>[r("div",zt,[o(De,{modelValue:t.trazabilidadActiva,"onUpdate:modelValue":[i[17]||(i[17]=a=>t.trazabilidadActiva=a),l.toggleTrazabilidad],label:"Mostrar Proyección por Temporada",color:"primary",icon:"analytics"},null,8,["modelValue","onUpdate:modelValue"])]),t.trazabilidadActiva?(u(),v(L,{key:0},[r("div",Pt,[o(V,{modelValue:t.trazabilidad.gestion,"onUpdate:modelValue":[i[18]||(i[18]=a=>t.trazabilidad.gestion=a),l.cargarTrazabilidad],options:t.gestionesOptions,label:"Gestion",dense:"",outlined:"",style:{"min-width":"130px"},loading:t.loadingTrazabilidad},{prepend:n(()=>[o(x,{name:"event"})]),_:1},8,["modelValue","options","onUpdate:modelValue","loading"])]),r("div",wt,[o(V,{modelValue:t.trazabilidad.producto_id,"onUpdate:modelValue":[i[19]||(i[19]=a=>t.trazabilidad.producto_id=a),l.cargarTrazabilidad],options:t.productosOptions,"option-label":"nombre_producto","option-value":"id","emit-value":"","map-options":"",label:"Producto",dense:"",outlined:"",style:{"min-width":"200px"},loading:t.loadingTrazabilidad},{prepend:n(()=>[o(x,{name:"inventory"})]),_:1},8,["modelValue","options","onUpdate:modelValue","loading"])]),r("div",St,[o(A,{color:"primary","text-color":"white",dense:""},{default:n(()=>[o(x,{name:"info",size:"16px",class:"q-mr-xs"}),_(" Temporada "+g(t.trazabilidad.gestion)+"-07 a "+g(t.trazabilidad.gestion+1)+"-06 ",1)]),_:1})])],64)):p("",!0)]),_:1})]),_:1}),o(q,{flat:"",bordered:"",class:"relative-position"},{default:n(()=>[o(qe,{dense:"","wrap-cells":""},{default:n(()=>[r("thead",null,[r("tr",Tt,[i[26]||(i[26]=r("th",{class:"text-left"},"ID",-1)),i[27]||(i[27]=r("th",{class:"text-left"},"RUNSA",-1)),t.trazabilidadActiva?p("",!0):(u(),v("th",At,"Sub Cod.")),i[28]||(i[28]=r("th",{class:"text-left"},"Nombre completo",-1)),t.trazabilidadActiva?p("",!0):(u(),v("th",Ot,"CI")),t.trazabilidadActiva?p("",!0):(u(),v("th",Nt,"Celular")),t.trazabilidadActiva?p("",!0):(u(),v("th",Et,"Comunidad")),i[29]||(i[29]=r("th",{class:"text-left"},"Estado",-1)),t.trazabilidadActiva?p("",!0):(u(),v("th",Dt,"Registro")),t.trazabilidadActiva?p("",!0):(u(),v("th",Ft,"Acciones")),t.trazabilidadActiva?(u(!0),v(L,{key:6},H(t.mesesTemporada,a=>(u(),v("th",{key:a.offset,class:"text-right bg-blue-10 mes-column"},[r("div",Ut,g(a.nombre),1),r("div",It,g(a.offset<=5?t.trazabilidad.gestion:t.trazabilidad.gestion+1),1)]))),128)):p("",!0),t.trazabilidadActiva?(u(),v("th",qt,i[25]||(i[25]=[r("div",{class:"text-caption"},"TOTAL",-1),r("div",{class:"text-caption text-weight-light"},"KG",-1)]))):p("",!0)])]),r("tbody",null,[(u(!0),v(L,null,H(t.rows,a=>(u(),v("tr",{key:a.id,class:"row-click",onClick:y=>l.openDetails(a)},[r("td",Qt,g(a.id),1),r("td",Mt,g(a.runsa||"-"),1),t.trazabilidadActiva?p("",!0):(u(),v("td",Lt,g(a.sub_codigo||"-"),1)),r("td",Rt,[r("div",jt,g(a.nombre_completo),1),r("div",Gt,g(a.municipio?.nombre_municipio||"-"),1)]),t.trazabilidadActiva?p("",!0):(u(),v("td",Kt,g(a.numcarnet),1)),t.trazabilidadActiva?p("",!0):(u(),v("td",Jt,g(a.num_celular||"-"),1)),t.trazabilidadActiva?p("",!0):(u(),v("td",Ht,g(a.comunidad||"-"),1)),r("td",Wt,[o(A,{color:l.chipColor(a.estado),"text-color":"white",size:"xs",class:"text-bold"},{default:n(()=>[_(g(a.estado),1)]),_:2},1032,["color"])]),t.trazabilidadActiva?p("",!0):(u(),v("td",Yt,g(a.fecha_registro),1)),t.trazabilidadActiva?p("",!0):(u(),v("td",Zt,[o(C,{flat:"",dense:"",round:"",size:"sm",color:"primary",icon:"edit",onClick:j(y=>l.openDetails(a),["stop"]),title:"Editar productor"},{default:n(()=>[o(W,null,{default:n(()=>i[30]||(i[30]=[_("Editar")])),_:1})]),_:2},1032,["onClick"]),o(C,{flat:"",dense:"",round:"",size:"sm",color:"negative",icon:"delete",onClick:j(y=>l.deleteProductor(a),["stop"]),title:"Eliminar productor"},{default:n(()=>[o(W,null,{default:n(()=>i[31]||(i[31]=[_("Eliminar")])),_:1})]),_:2},1032,["onClick"]),o(C,{flat:"",dense:"",round:"",size:"sm",color:"secondary",icon:"print",onClick:j(y=>l.printProductor(a),["stop"]),title:"Imprimir registro"},{default:n(()=>[o(W,null,{default:n(()=>i[32]||(i[32]=[_("Imprimir")])),_:1})]),_:2},1032,["onClick"])])),t.trazabilidadActiva?(u(!0),v(L,{key:6},H(t.mesesTemporada,y=>(u(),v("td",{key:`${a.id}-${y.offset}`,class:Fe(["text-right mes-column",[a.acopios_meses?.[y.offset]>0?l.colorPorCantidad(a.acopios_meses[y.offset]):"bg-grey-2"]])},[a.acopios_meses?.[y.offset]>0?(u(),v("div",Xt,g(l.formatNumber(a.acopios_meses[y.offset])),1)):(u(),v("span",$t,"-"))],2))),128)):p("",!0),t.trazabilidadActiva?(u(),v("td",ei,g(l.formatNumber(a.total_acopios||0)),1)):p("",!0)],8,Bt))),128)),!t.loading&&t.rows?.length===0?(u(),v("tr",ti,[r("td",{colspan:t.trazabilidadActiva?15:10,class:"text-center text-grey q-pa-md"},"No hay resultados",8,ii)])):p("",!0)])]),_:1}),t.loading?(u(),v("div",oi,[o(Ge,{indeterminate:"",size:"40px"})])):p("",!0),r("div",ai,[r("div",li,[i[33]||(i[33]=_("Total: ")),r("b",null,g(t.serverCount?.toLocaleString()),1)]),r("div",ri,[o(V,{modelValue:t.pagination.perPage,"onUpdate:modelValue":[i[20]||(i[20]=a=>t.pagination.perPage=a),l.changePerPage],options:[10,25,50,100,150,200],dense:"",outlined:"",style:{width:"120px"},label:"Por página"},null,8,["modelValue","onUpdate:modelValue"]),o(Ke,{modelValue:t.pagination.page,"onUpdate:modelValue":[i[21]||(i[21]=a=>t.pagination.page=a),l.changePage],max:l.pageCount,"max-pages":"8","direction-links":"","boundary-links":""},null,8,["modelValue","max","onUpdate:modelValue"])])])]),_:1}),o(s,{ref:"modalCrear",onCreated:l.onProductorCreado,onClose:i[22]||(i[22]=a=>t.showModalCrear=!1)},null,8,["onCreated"])]),_:1})}const ki=se(ut,[["render",si],["__scopeId","data-v-0a2ccf42"]]);export{ki as default};
