import{_ as h,a4 as d,c as l,o as p,w as t,b as u,a as o,f as m,Q as _,I as C,a6 as Q,e as v}from"./index-Cam7sjHz.js";import{Q as S}from"./QSpace-udYqr0Ab.js";import{Q as V,a as c,b as k,c as i}from"./QTabPanels-ClIzdzu9.js";import{Q as U}from"./QPage-DpljY9Wo.js";import{P as q}from"./ProductorForm-B_kGsCZp.js";import{P as w,a as y,b as x}from"./ProductorMapa-CERx9KPU.js";import"./QResizeObserver-BXTHpylB.js";import"./QSelect-DYKEEpZG.js";import"./format-BSrII-gQ.js";import"./selection-DIkVOeSO.js";import"./use-panel-DA5Tunod.js";import"./touch-BjYP5sR0.js";import"./QBanner-B_fQSnqX.js";import"./QForm-D6noTxew.js";import"./QList-D0QTb4Qd.js";import"./QMarkupTable-Bt_LGk1z.js";import"./ClosePopup-eziyMYe-.js";import"./marker-shadow-Bkxiv1yo.js";import"./QBadge-C09tErN6.js";const A={name:"ProductorShow",components:{ProductorMapa:x,ProductorApiarios:y,ProductorCertificaciones:w,ProductorForm:q},data(){return{tab:"general",loading:!1,productor:null}},mounted(){this.fetchProductor()},methods:{async fetchProductor(){this.loading=!0;try{const e=this.$route.params.id,{data:r}=await this.$axios.get(`productores/${e}`);this.productor=r}catch(e){this.productor=null,this.$alert?.error?.(e.response?.data?.message||"No se pudo cargar el productor")}finally{this.loading=!1}},onSaved(e){this.productor=e,this.$alert?.success?.("Cambios guardados")}}},B={class:"row items-center q-gutter-sm q-mb-md"};function M(e,r,N,T,a,n){const f=d("ProductorForm"),P=d("ProductorCertificaciones"),b=d("ProductorApiarios"),g=d("ProductorMapa");return p(),l(U,{class:"q-pa-md"},{default:t(()=>[u("div",B,[o(m,{flat:"",round:"",icon:"arrow_back",onClick:r[0]||(r[0]=s=>e.$router.push("/productores"))}),r[4]||(r[4]=u("div",{class:"text-h6"},"Editar Productor",-1)),o(S),o(m,{flat:"",round:"",icon:"refresh",loading:a.loading,onClick:n.fetchProductor},null,8,["loading","onClick"])]),o(_,{flat:"",bordered:""},{default:t(()=>[o(V,{modelValue:a.tab,"onUpdate:modelValue":r[1]||(r[1]=s=>a.tab=s),class:"text-primary",align:"left",dense:""},{default:t(()=>[o(c,{name:"general",icon:"badge",label:"1) InformaciÃ³n general","no-caps":""}),o(c,{name:"certs",icon:"verified",label:"2) Certificaciones","no-caps":""}),o(c,{name:"apiarios",icon:"hive",label:"3) Apiarios","no-caps":""}),o(c,{name:"mapa",icon:"map",label:"4) Mapa","no-caps":""})]),_:1},8,["modelValue"]),o(C),o(k,{modelValue:a.tab,"onUpdate:modelValue":r[3]||(r[3]=s=>a.tab=s),animated:""},{default:t(()=>[o(i,{name:"general",class:"q-pa-none"},{default:t(()=>[!a.loading&&a.productor?(p(),l(v,{key:0},{default:t(()=>[o(f,{productor:a.productor,"banner-msg":"Actualiza los datos y guarda los cambios",onSaved:n.onSaved,onCancel:r[2]||(r[2]=s=>e.$router.back())},null,8,["productor","onSaved"])]),_:1})):Q("",!0)]),_:1}),o(i,{name:"certs",class:"q-pa-none"},{default:t(()=>[o(P,{productor:a.productor,onUpdated:n.fetchProductor},null,8,["productor","onUpdated"])]),_:1}),o(i,{name:"apiarios",class:"q-pa-none"},{default:t(()=>[o(b,{productor:a.productor,onUpdated:n.fetchProductor},null,8,["productor","onUpdated"])]),_:1}),o(i,{name:"mapa",class:"q-pa-none"},{default:t(()=>[o(g,{productor:a.productor,onUpdated:n.fetchProductor},null,8,["productor","onUpdated"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const ro=h(A,[["render",M]]);export{ro as default};
