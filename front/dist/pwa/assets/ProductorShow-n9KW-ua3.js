import{_,a4 as d,c as l,o as u,w as t,b as p,a as o,f as m,Q as h,I as C,a6 as Q,e as v}from"./index-C-DNnXi2.js";import{Q as k}from"./QSpace-DiPzbIG_.js";import{Q as S,a as c,b as V,c as i}from"./QTabPanels-Cgdi2hpF.js";import{Q as U}from"./QPage-mFcHoeJp.js";import{P as q}from"./ProductorForm-BPpKFy3i.js";import{P as w,a as y,b as x}from"./ProductorMapa-gBstdmhs.js";import"./touch-CKLSxiWB.js";import"./QSelect-Dvh5Y2tt.js";import"./format-DRFXSdcQ.js";import"./selection-CcvAYck0.js";import"./use-panel-BZSMve8e.js";import"./QForm-C-86A5JZ.js";import"./QList-DdeYARIo.js";import"./QMarkupTable-DtXPtCfg.js";import"./ClosePopup-CokorPpS.js";import"./marker-shadow-CaiZsv7P.js";import"./QBadge-V5K5-eb6.js";const A={name:"ProductorShow",components:{ProductorMapa:x,ProductorApiarios:y,ProductorCertificaciones:w,ProductorForm:q},data(){return{tab:"general",loading:!1,productor:null}},mounted(){this.fetchProductor()},methods:{async fetchProductor(){this.loading=!0;try{const e=this.$route.params.id,{data:r}=await this.$axios.get(`productores/${e}`);this.productor=r}catch(e){this.productor=null,this.$alert?.error?.(e.response?.data?.message||"No se pudo cargar el productor")}finally{this.loading=!1}},onSaved(e){this.productor=e,this.$alert?.success?.("Cambios guardados")}}},B={class:"row items-center q-gutter-sm q-mb-md"};function M(e,r,N,T,a,n){const f=d("ProductorForm"),P=d("ProductorCertificaciones"),b=d("ProductorApiarios"),g=d("ProductorMapa");return u(),l(U,{class:"q-pa-md"},{default:t(()=>[p("div",B,[o(m,{flat:"",round:"",icon:"arrow_back",onClick:r[0]||(r[0]=s=>e.$router.back())}),r[4]||(r[4]=p("div",{class:"text-h6"},"Editar Productor",-1)),o(k),o(m,{flat:"",round:"",icon:"refresh",loading:a.loading,onClick:n.fetchProductor},null,8,["loading","onClick"])]),o(h,{flat:"",bordered:""},{default:t(()=>[o(S,{modelValue:a.tab,"onUpdate:modelValue":r[1]||(r[1]=s=>a.tab=s),class:"text-primary",align:"left",dense:""},{default:t(()=>[o(c,{name:"general",icon:"badge",label:"1) InformaciÃ³n general","no-caps":""}),o(c,{name:"certs",icon:"verified",label:"2) Certificaciones","no-caps":""}),o(c,{name:"apiarios",icon:"hive",label:"3) Apiarios","no-caps":""}),o(c,{name:"mapa",icon:"map",label:"4) Mapa","no-caps":""})]),_:1},8,["modelValue"]),o(C),o(V,{modelValue:a.tab,"onUpdate:modelValue":r[3]||(r[3]=s=>a.tab=s),animated:""},{default:t(()=>[o(i,{name:"general",class:"q-pa-none"},{default:t(()=>[!a.loading&&a.productor?(u(),l(v,{key:0},{default:t(()=>[o(f,{productor:a.productor,"banner-msg":"Actualiza los datos y guarda los cambios",onSaved:n.onSaved,onCancel:r[2]||(r[2]=s=>e.$router.back())},null,8,["productor","onSaved"])]),_:1})):Q("",!0)]),_:1}),o(i,{name:"certs",class:"q-pa-none"},{default:t(()=>[o(P,{productor:a.productor,onUpdated:n.fetchProductor},null,8,["productor","onUpdated"])]),_:1}),o(i,{name:"apiarios",class:"q-pa-none"},{default:t(()=>[o(b,{productor:a.productor,onUpdated:n.fetchProductor},null,8,["productor","onUpdated"])]),_:1}),o(i,{name:"mapa",class:"q-pa-none"},{default:t(()=>[o(g,{productor:a.productor,onUpdated:n.fetchProductor},null,8,["productor","onUpdated"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const $=_(A,[["render",M]]);export{$ as default};
