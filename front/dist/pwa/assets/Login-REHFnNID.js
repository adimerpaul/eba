import{y as se,z as U,A as D,B as j,C as le,E as M,J as R,F as W,I as re,g as ae,P as ue,r as ce,k as v,s as K,l as g,ae as de,b5 as ve,m as F,b6 as me,j as J,L as pe,O as fe,am as ge,V as he,v as be,X as xe,f as N,aj as ye,_ as _e,c as G,o as X,w,a as h,b as l,a6 as ie,Q as we,e as Ce,a0 as Pe,a1 as qe,a2 as Se,d as H,t as Y,b7 as Z,as as ee,aq as ke,i as Ie}from"./index--KZ7devI.js";import{g as te,s as oe,a as Ae,b as Te}from"./QLayout-BAZqWfL7.js";import{c as Be}from"./selection-By9PtWSN.js";import{u as Ve,a as Qe,b as $e}from"./use-fullscreen-Be7tx6Fb.js";import{Q as Ee}from"./QImg-DO6scqv-.js";import{Q as De}from"./QForm-Cwa_vrhX.js";import{Q as Ne}from"./QPage-8ncbA4BJ.js";function Le(e){const o=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((s,p)=>{const i=parseFloat(s);i&&(o[p]=i)}),o}const ze=se({name:"touch-swipe",beforeMount(e,{value:o,arg:s,modifiers:p}){if(p.mouse!==!0&&D.has.touch!==!0)return;const i=p.mouseCapture===!0?"Capture":"",t={handler:o,sensitivity:Le(s),direction:te(p),noop:le,mouseStart(n){oe(n,t)&&re(n)&&(M(t,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(n,!0))},touchStart(n){if(oe(n,t)){const u=n.target;M(t,"temp",[[u,"touchmove","move","notPassiveCapture"],[u,"touchcancel","end","notPassiveCapture"],[u,"touchend","end","notPassiveCapture"]]),t.start(n)}},start(n,u){D.is.firefox===!0&&j(e,!0);const f=W(n);t.event={x:f.left,y:f.top,time:Date.now(),mouse:u===!0,dir:!1}},move(n){if(t.event===void 0)return;if(t.event.dir!==!1){R(n);return}const u=Date.now()-t.event.time;if(u===0)return;const f=W(n),C=f.left-t.event.x,c=Math.abs(C),P=f.top-t.event.y,m=Math.abs(P);if(t.event.mouse!==!0){if(c<t.sensitivity[1]&&m<t.sensitivity[1]){t.end(n);return}}else if(window.getSelection().toString()!==""){t.end(n);return}else if(c<t.sensitivity[2]&&m<t.sensitivity[2])return;const y=c/u,_=m/u;t.direction.vertical===!0&&c<m&&c<100&&_>t.sensitivity[0]&&(t.event.dir=P<0?"up":"down"),t.direction.horizontal===!0&&c>m&&m<100&&y>t.sensitivity[0]&&(t.event.dir=C<0?"left":"right"),t.direction.up===!0&&c<m&&P<0&&c<100&&_>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&c<m&&P>0&&c<100&&_>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&c>m&&C<0&&m<100&&y>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&c>m&&C>0&&m<100&&y>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(R(n),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Be(),t.styleCleanup=A=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const q=()=>{document.body.classList.remove("no-pointer-events--children")};A===!0?setTimeout(q,50):q()}),t.handler({evt:n,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:u,distance:{x:c,y:m}})):t.end(n)},end(n){t.event!==void 0&&(U(t,"temp"),D.is.firefox===!0&&j(e,!1),t.styleCleanup?.(!0),n!==void 0&&t.event.dir!==!1&&R(n),t.event=void 0)}};if(e.__qtouchswipe=t,p.mouse===!0){const n=p.mouseCapture===!0||p.mousecapture===!0?"Capture":"";M(t,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}D.has.touch===!0&&M(t,"main",[[e,"touchstart","touchStart",`passive${p.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const s=e.__qtouchswipe;s!==void 0&&(o.oldValue!==o.value&&(typeof o.value!="function"&&s.end(),s.handler=o.value),s.direction=te(o.modifiers))},beforeUnmount(e){const o=e.__qtouchswipe;o!==void 0&&(U(o,"main"),U(o,"temp"),D.is.firefox===!0&&j(e,!1),o.styleCleanup?.(),delete e.__qtouchswipe)}});function Oe(){let e=Object.create(null);return{getCache:(o,s)=>e[o]===void 0?e[o]=typeof s=="function"?s():s:e[o],setCache(o,s){e[o]=s},hasCache(o){return Object.hasOwnProperty.call(e,o)},clearCache(o){o!==void 0?delete e[o]:e=Object.create(null)}}}const Me={name:{required:!0},disable:Boolean},ne={setup(e,{slots:o}){return()=>g("div",{class:"q-panel scroll",role:"tabpanel"},F(o.default))}},Fe={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ue=["update:modelValue","beforeTransition","transition"];function je(){const{props:e,emit:o,proxy:s}=ae(),{getCache:p}=Oe(),{registerTimeout:i}=ue();let t,n;const u=ce(null),f={value:null};function C(a){const r=e.vertical===!0?"up":"left";S((s.$q.lang.rtl===!0?-1:1)*(a.direction===r?1:-1))}const c=v(()=>[[ze,C,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),P=v(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),m=v(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),y=v(()=>`--q-transition-duration: ${e.transitionDuration}ms`),_=v(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),A=v(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),q=v(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);K(()=>e.modelValue,(a,r)=>{const x=k(a)===!0?Q(a):-1;n!==!0&&T(x===-1?0:x<Q(r)?-1:1),f.value!==x&&(f.value=x,o("beforeTransition",a,r),i(()=>{o("transition",a,r)},e.transitionDuration))});function B(){S(1)}function L(){S(-1)}function V(a){o("update:modelValue",a)}function k(a){return a!=null&&a!==""}function Q(a){return t.findIndex(r=>r.props.name===a&&r.props.disable!==""&&r.props.disable!==!0)}function $(){return t.filter(a=>a.props.disable!==""&&a.props.disable!==!0)}function T(a){const r=a!==0&&e.animated===!0&&f.value!==-1?"q-transition--"+(a===-1?P.value:m.value):null;u.value!==r&&(u.value=r)}function S(a,r=f.value){let x=r+a;for(;x!==-1&&x<t.length;){const O=t[x];if(O!==void 0&&O.props.disable!==""&&O.props.disable!==!0){T(a),n=!0,o("update:modelValue",O.props.name),setTimeout(()=>{n=!1});return}x+=a}e.infinite===!0&&t.length!==0&&r!==-1&&r!==t.length&&S(a,a===-1?t.length:-1)}function z(){const a=Q(e.modelValue);return f.value!==a&&(f.value=a),!0}function d(){const a=k(e.modelValue)===!0&&z()&&t[f.value];return e.keepAlive===!0?[g(me,A.value,[g(q.value===!0?p(_.value,()=>({...ne,name:_.value})):ne,{key:_.value,style:y.value},()=>a)])]:[g("div",{class:"q-panel scroll",style:y.value,key:_.value,role:"tabpanel"},[a])]}function I(){if(t.length!==0)return e.animated===!0?[g(de,{name:u.value},d)]:d()}function E(a){return t=ve(F(a.default,[])).filter(r=>r.props!==null&&r.props.slot===void 0&&k(r.props.name)===!0),t.length}function b(){return t}return Object.assign(s,{next:B,previous:L,goTo:V}),{panelIndex:f,panelDirectives:c,updatePanelsList:E,updatePanelIndex:z,getPanelContent:I,getEnabledPanels:$,getPanels:b,isValidPanelName:k,keepAliveProps:A,needsUniqueKeepAliveWrapper:q,goToPanelByOffset:S,goToPanel:V,nextPanel:B,previousPanel:L}}const Re=J({name:"QCarouselSlide",props:{...Me,imgSrc:String},setup(e,{slots:o}){const s=v(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>g("div",{class:"q-carousel__slide",style:s.value},F(o.default))}}),Xe=J({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,default:()=>[18,18],validator:e=>e.length===2}},setup(e,{slots:o}){const s=v(()=>`q-carousel__control absolute absolute-${e.position}`),p=v(()=>({margin:`${e.offset[1]}px ${e.offset[0]}px`}));return()=>g("div",{class:s.value,style:p.value},F(o.default))}}),Ye=["top","right","bottom","left"],Ke=["regular","flat","outline","push","unelevated"],Je=J({name:"QCarousel",props:{...pe,...Fe,...Qe,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Ke.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Ye.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...Ve,...Ue],setup(e,{slots:o}){const{proxy:{$q:s}}=ae(),p=fe(e,s);let i=null,t;const{updatePanelsList:n,getPanelContent:u,panelDirectives:f,goToPanel:C,previousPanel:c,nextPanel:P,getEnabledPanels:m,panelIndex:y}=je(),{inFullscreen:_}=$e(),A=v(()=>_.value!==!0&&e.height!==void 0?{height:e.height}:{}),q=v(()=>e.vertical===!0?"vertical":"horizontal"),B=v(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),L=v(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(_.value===!0?" fullscreen":"")+(p.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${q.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${B.value}`:"")),V=v(()=>{const d=[e.prevIcon||s.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||s.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&s.lang.rtl===!0?d.reverse():d}),k=v(()=>e.navigationIcon||s.iconSet.carousel.navigationIcon),Q=v(()=>e.navigationActiveIcon||k.value),$=v(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));K(()=>e.modelValue,()=>{e.autoplay&&T()}),K(()=>e.autoplay,d=>{d?T():i!==null&&(clearTimeout(i),i=null)});function T(){const d=ge(e.autoplay)===!0?Math.abs(e.autoplay):5e3;i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,d>=0?P():c()},d)}he(()=>{e.autoplay&&T()}),be(()=>{i!==null&&clearTimeout(i)});function S(d,I){return g("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${d} q-carousel__navigation--${B.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[g("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},m().map(I))])}function z(){const d=[];if(e.navigation===!0){const I=o["navigation-icon"]!==void 0?o["navigation-icon"]:b=>g(N,{key:"nav"+b.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${b.active===!0?"":"in"}active`,...b.btnProps,onClick:b.onClick}),E=t-1;d.push(S("buttons",(b,a)=>{const r=b.props.name,x=y.value===a;return I({index:a,maxIndex:E,name:r,active:x,btnProps:{icon:x===!0?Q.value:k.value,size:"sm",...$.value},onClick:()=>{C(r)}})}))}else if(e.thumbnails===!0){const I=e.controlColor!==void 0?` text-${e.controlColor}`:"";d.push(S("thumbnails",E=>{const b=E.props;return g("img",{key:"tmb#"+b.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${b.name===e.modelValue?"":"in"}active`+I,src:b.imgSrc||b["img-src"],onClick:()=>{C(b.name)}})}))}return e.arrows===!0&&y.value>=0&&((e.infinite===!0||y.value>0)&&d.push(g("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${q.value} absolute flex flex-center`},[g(N,{icon:V.value[0],...$.value,onClick:c})])),(e.infinite===!0||y.value<t-1)&&d.push(g("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${q.value} absolute flex flex-center`},[g(N,{icon:V.value[1],...$.value,onClick:P})]))),ye(o.control,d)}return()=>(t=n(o),g("div",{class:L.value,style:A.value},[xe("div",{class:"q-carousel__slides-container"},u(),"sl-cont",e.swipeable,()=>f.value)].concat(z())))}}),We={name:"Login",data(){return{slide:"calidad",slides:[{name:"calidad",icon:"verified",title:"Calidad Certificada",description:"Nuestros productos cumplen los más altos estándares de calidad."},{name:"trazabilidad",icon:"qr_code",title:"Trazabilidad Garantizada",description:"Sigue el recorrido de nuestros productos desde el origen."},{name:"innovacion",icon:"lightbulb",title:"Innovación Constante",description:"Incorporamos tecnología para optimizar nuestros procesos."},{name:"sostenibilidad",icon:"eco",title:"Producción Sostenible",description:"Comprometidos con el medio ambiente y el desarrollo local."},{name:"seguridad",icon:"lock",title:"Seguridad y Confianza",description:"Protegemos tus datos y transacciones en todo momento."}],login:{username:"",password:""},showPassword:!1,loading:!1,remember:!1}},methods:{loginSubmit(){this.loading=!0,this.$axios.post("login",{username:this.login.username,password:this.login.password}).then(e=>{this.$store.isLogged=!0,this.$store.user=e.data.user,this.$axios.defaults.headers.common.Authorization="Bearer "+e.data.token,localStorage.setItem("tokenEBA",e.data.token),Ie().permissions=(e.data.user.permissions||[]).map(o=>o.name),localStorage.setItem("user",JSON.stringify(e.data.user)),this.$alert.success("Bienvenido "+e.data.user.name),this.$router.push("/")}).catch(e=>{this.loading=!1,this.$alert.error(e.response?.data?.message||"Error de conexión")}).finally(()=>{this.loading=!1})}}},Ge={class:"row"},He={class:"row"},Ze={class:"col-12 col-md-6"},et={class:"bg-fondo"},tt={class:"text-center"},ot={class:"q-mb-xs text-bold"},nt={class:"text-caption"},at={class:ie("col-12 col-md-6 q-pa-md bg-white")},it={class:"row q-ma-md"},st={class:"col-12"},lt={class:"col-12"},rt={class:"col-12"},ut={class:"col-12"},ct={class:"col-12"},dt={class:"col-12"},vt={class:"text-center"},mt={class:"text-center q-mt-sm"},pt={class:"text-caption text-white"};function ft(e,o,s,p,i,t){return X(),G(Te,{class:"bg-green-blue",view:"lHh Lpr lff"},{default:w(()=>[h(Ae,null,{default:w(()=>[h(Ne,{class:"flex flex-center"},{default:w(()=>[l("div",Ge,[o[10]||(o[10]=l("div",{class:"col-12 col-md-1"},null,-1)),l("div",{class:ie(`col-12 col-md-10 ${e.$q.screen.gt.sm?"q-pa-lg":""}`)},[h(we,{flat:"",bordered:"",class:"q-ma-xs q-pa-none"},{default:w(()=>[h(Ce,{class:"q-pa-none"},{default:w(()=>[l("div",He,[l("div",Ze,[l("div",et,[h(Je,{modelValue:i.slide,"onUpdate:modelValue":o[0]||(o[0]=n=>i.slide=n),"transition-prev":"scale","transition-next":"scale",swipeable:"",animated:"",infinite:"",autoplay:"","control-color":"white",navigation:"",padding:"",arrows:"",height:e.$q.screen.gt.sm?"600px":"230px",class:"text-white shadow-1 rounded-borders bg-fondo",style:{width:"100%"}},{control:w(()=>[h(Xe,{position:"top-left",offset:[5,10],class:"text-white rounded-borders"},{default:w(()=>o[5]||(o[5]=[l("img",{src:"logo.png",width:"70"},null,-1)])),_:1})]),default:w(()=>[(X(!0),Pe(qe,null,Se(i.slides,(n,u)=>(X(),G(Re,{key:u,name:n.name,class:"column no-wrap flex-center"},{default:w(()=>[h(H,{name:n.icon,size:"50px"},null,8,["name"]),l("div",tt,[l("div",ot,Y(n.title),1),l("p",nt,Y(n.description),1)])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue","height"])])]),l("div",at,[h(De,{onSubmit:Z(t.loginSubmit,["prevent"])},{default:w(()=>[l("div",it,[l("div",st,[h(Ee,{src:"logo.png",width:"100px",class:"q-mb-md",style:{"border-radius":"50%"}})]),o[8]||(o[8]=l("div",{class:"col-12"},[l("div",{style:{color:"#005c2a"},class:"text-bold"},"Bienvenido a EBA"),l("div",{class:"text-grey q-py-xs"}," Inicia sesión para acceder al sistema ")],-1)),l("div",lt,[o[6]||(o[6]=l("label",{class:"text-subtitle"},"Usuario",-1)),h(ee,{modelValue:i.login.username,"onUpdate:modelValue":o[1]||(o[1]=n=>i.login.username=n),outlined:"",type:"text",placeholder:"Usuario",rules:[n=>!!n||"El usuario es requerido",n=>n.length>=3||"Debe tener al menos 3 caracteres"],dense:""},null,8,["modelValue","rules"])]),l("div",rt,[o[7]||(o[7]=l("label",{class:"text-subtitle"},"Contraseña",-1)),h(ee,{modelValue:i.login.password,"onUpdate:modelValue":o[3]||(o[3]=n=>i.login.password=n),outlined:"",type:i.showPassword?"text":"password",placeholder:"Contraseña",dense:"",rules:[n=>!!n||"La contraseña es requerida"]},{append:w(()=>[h(H,{name:i.showPassword?"visibility":"visibility_off",onClick:o[2]||(o[2]=Z(n=>i.showPassword=!i.showPassword,["stop"])),class:"cursor-pointer"},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),l("div",ut,[h(ke,{modelValue:i.remember,"onUpdate:modelValue":o[4]||(o[4]=n=>i.remember=n),label:"Recordar mi usuario",color:"primary"},null,8,["modelValue"])]),l("div",ct,[h(N,{loading:i.loading,disable:i.loading,label:"Iniciar sesión",color:"positive","no-caps":"",type:"submit",class:"full-width"},null,8,["loading","disable"])]),l("div",dt,[l("div",vt,[h(N,{flat:"",label:"Olvidé mi contraseña",color:"primary","no-caps":"",loading:i.loading},null,8,["loading"])])])])]),_:1},8,["onSubmit"])])])]),_:1})]),_:1}),l("div",mt,[l("div",pt," EBA © "+Y(new Date().getFullYear())+". Todos los derechos reservados. ",1),o[9]||(o[9]=l("div",{class:"text-caption text-white"}," Desarrollado por el equipo de EBA ",-1))])],2),o[11]||(o[11]=l("div",{class:"col-12 col-md-1"},null,-1))])]),_:1})]),_:1})]),_:1})}const Ct=_e(We,[["render",ft]]);export{Ct as default};
