import{j as le,k as h,l as L,m as Le,g as me,n as He,p as Z,q as Fe,r as F,s as I,v as he,x as ut,T as dt,y as ct,z as Ne,A as Re,B as We,C as je,E as Ye,F as ft,G as Ge,H as vt,I as ve,J as $,K as mt,d as A,L as Ue,M as ht,O as _e,P as te,R as ke,S as gt,U as de,V as Te,W as Ie,X as qe,Y as bt,Z as pt,$ as wt,a0 as yt,a1 as $e,a2 as xt,a3 as Ae,_ as _t,i as kt,a4 as qt,c as T,o as C,w as a,a as n,b as z,f as St,a5 as B,a6 as Oe,t as ae,a7 as Ct,a8 as Tt,a9 as Lt,aa as Bt,ab as Qe}from"./index-fnzLEXBD.js";import{Q as Ee}from"./QBadge-D9IXJBZk.js";import{Q as Pt}from"./QSpace-C2uNCo_u.js";import{Q as Me}from"./QImg-YI1a0GGX.js";import{Q as O,a as P,b,c as ce,d as It}from"./format-DVPgbsZR.js";import{Q as $t}from"./QBtnDropdown-BSFaQLIe.js";import{Q as At}from"./QResizeObserver-DULAcr46.js";import{Q as ne}from"./QList-Co1t5_13.js";import{g as De,s as ze}from"./touch-BjYP5sR0.js";import{c as Ot}from"./selection-CsATEHkD.js";import{Q as Qt,a as Et}from"./QLayout-ByHaBLXY.js";import{C as Q}from"./ClosePopup-CakbSU77.js";const Mt=le({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:r}){const c=h(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>L("div",{class:c.value,role:"toolbar"},Le(r.default))}}),Dt=le({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:r,emit:c}){const{proxy:{$q:y}}=me(),t=He(Fe,Z);if(t===Z)return console.error("QHeader needs to be child of QLayout"),Z;const l=F(parseInt(e.heightHint,10)),u=F(!0),g=h(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||y.platform.is.ios&&t.isContainer.value===!0),p=h(()=>{if(e.modelValue!==!0)return 0;if(g.value===!0)return u.value===!0?l.value:0;const d=l.value-t.scroll.value.position;return d>0?d:0}),v=h(()=>e.modelValue!==!0||g.value===!0&&u.value!==!0),i=h(()=>e.modelValue===!0&&v.value===!0&&e.reveal===!0),o=h(()=>"q-header q-layout__section--marginal "+(g.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(v.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),q=h(()=>{const d=t.rows.value.top,E={};return d[0]==="l"&&t.left.space===!0&&(E[y.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),d[2]==="r"&&t.right.space===!0&&(E[y.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),E});function k(d,E){t.update("header",d,E)}function w(d,E){d.value!==E&&(d.value=E)}function f({height:d}){w(l,d),k("size",d)}function S(d){i.value===!0&&w(u,!0),c("focusin",d)}I(()=>e.modelValue,d=>{k("space",d),w(u,!0),t.animate()}),I(p,d=>{k("offset",d)}),I(()=>e.reveal,d=>{d===!1&&w(u,e.modelValue)}),I(u,d=>{t.animate(),c("reveal",d)}),I(t.scroll,d=>{e.reveal===!0&&w(u,d.direction==="up"||d.position<=e.revealOffset||d.position-d.inflectionPoint<100)});const x={};return t.instances.header=x,e.modelValue===!0&&k("size",l.value),k("space",e.modelValue),k("offset",p.value),he(()=>{t.instances.header===x&&(t.instances.header=void 0,k("size",0),k("offset",0),k("space",!1))}),()=>{const d=ut(r.default,[]);return e.elevated===!0&&d.push(L("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),d.push(L(At,{debounce:0,onResize:f})),L("header",{class:o.value,style:q.value,onFocusin:S},d)}}}),zt=le({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:r,emit:c}){let y=!1,t,l,u=null,g=null,p,v;function i(){t?.(),t=null,y=!1,u!==null&&(clearTimeout(u),u=null),g!==null&&(clearTimeout(g),g=null),l?.removeEventListener("transitionend",p),p=null}function o(f,S,x){S!==void 0&&(f.style.height=`${S}px`),f.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,y=!0,t=x}function q(f,S){f.style.overflowY=null,f.style.height=null,f.style.transition=null,i(),S!==v&&c(S)}function k(f,S){let x=0;l=f,y===!0?(i(),x=f.offsetHeight===f.scrollHeight?0:void 0):(v="hide",f.style.overflowY="hidden"),o(f,x,S),u=setTimeout(()=>{u=null,f.style.height=`${f.scrollHeight}px`,p=d=>{g=null,(Object(d)!==d||d.target===f)&&q(f,"show")},f.addEventListener("transitionend",p),g=setTimeout(p,e.duration*1.1)},100)}function w(f,S){let x;l=f,y===!0?i():(v="show",f.style.overflowY="hidden",x=f.scrollHeight),o(f,x,S),u=setTimeout(()=>{u=null,f.style.height=0,p=d=>{g=null,(Object(d)!==d||d.target===f)&&q(f,"hide")},f.addEventListener("transitionend",p),g=setTimeout(p,e.duration*1.1)},100)}return he(()=>{y===!0&&i()}),()=>L(dt,{css:!1,appear:e.appear,onEnter:k,onLeave:w},r.default)}}),U=ct({}),Vt=Object.keys(je),fe=le({name:"QExpansionItem",props:{...je,...We,...Re,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Ne,"click","afterShow","afterHide"],setup(e,{slots:r,emit:c}){const{proxy:{$q:y}}=me(),t=Ye(e,y),l=F(e.modelValue!==null?e.modelValue:e.defaultOpened),u=F(null),g=ft(),{show:p,hide:v,toggle:i}=Ge({showing:l});let o,q;const k=h(()=>`q-expansion-item q-item-type q-expansion-item--${l.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),w=h(()=>e.contentInsetLevel===void 0?null:{["padding"+(y.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),f=h(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),S=h(()=>{const m={};return Vt.forEach(M=>{m[M]=e[M]}),m}),x=h(()=>f.value===!0||e.expandIconToggle!==!0),d=h(()=>e.expandedIcon!==void 0&&l.value===!0?e.expandedIcon:e.expandIcon||y.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),E=h(()=>e.disable!==!0&&(f.value===!0||e.expandIconToggle===!0)),ie=h(()=>({expanded:l.value===!0,detailsId:g.value,toggle:i,show:p,hide:v})),X=h(()=>{const m=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:y.lang.label[l.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":l.value===!0?"true":"false","aria-controls":g.value,"aria-label":m}});I(()=>e.group,m=>{q?.(),m!==void 0&&R()});function G(m){f.value!==!0&&i(m),c("click",m)}function ge(m){m.keyCode===13&&oe(m,!0)}function oe(m,M){M!==!0&&m.qAvoidFocus!==!0&&u.value?.focus(),i(m),Ue(m)}function K(){c("afterShow")}function H(){c("afterHide")}function R(){o===void 0&&(o=vt()),l.value===!0&&(U[e.group]=o);const m=I(l,N=>{N===!0?U[e.group]=o:U[e.group]===o&&delete U[e.group]}),M=I(()=>U[e.group],(N,be)=>{be===o&&N!==void 0&&N!==o&&v()});q=()=>{m(),M(),U[e.group]===o&&delete U[e.group],q=void 0}}function se(){const m={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},M=[L(A,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&l.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:d.value})];return E.value===!0&&(Object.assign(m,{tabindex:0,...X.value,onClick:oe,onKeyup:ge}),M.unshift(L("div",{ref:u,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),L(b,m,()=>M)}function W(){let m;return r.header!==void 0?m=[].concat(r.header(ie.value)):(m=[L(b,()=>[L(P,{lines:e.labelLines},()=>e.label||""),e.caption?L(P,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&m[e.switchToggleSide===!0?"push":"unshift"](L(b,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>L(A,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&m[e.switchToggleSide===!0?"unshift":"push"](se()),m}function ee(){const m={ref:"item",style:e.headerStyle,class:e.headerClass,dark:t.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return x.value===!0&&(m.clickable=!0,m.onClick=G,Object.assign(m,f.value===!0?S.value:X.value)),L(O,m,W)}function re(){return $(L("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:w.value,id:g.value},Le(r.default)),[[mt,l.value]])}function J(){const m=[ee(),L(zt,{duration:e.duration,onShow:K,onHide:H},re)];return e.expandSeparator===!0&&m.push(L(ve,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:t.value}),L(ve,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:t.value})),m}return e.group!==void 0&&R(),he(()=>{q?.()}),()=>L("div",{class:k.value},[L("div",{class:"q-expansion-item__container relative-position"},J())])}});function Se(e,r,c){const y=Te(e);let t,l=y.left-r.event.x,u=y.top-r.event.y,g=Math.abs(l),p=Math.abs(u);const v=r.direction;v.horizontal===!0&&v.vertical!==!0?t=l<0?"left":"right":v.horizontal!==!0&&v.vertical===!0?t=u<0?"up":"down":v.up===!0&&u<0?(t="up",g>p&&(v.left===!0&&l<0?t="left":v.right===!0&&l>0&&(t="right"))):v.down===!0&&u>0?(t="down",g>p&&(v.left===!0&&l<0?t="left":v.right===!0&&l>0&&(t="right"))):v.left===!0&&l<0?(t="left",g<p&&(v.up===!0&&u<0?t="up":v.down===!0&&u>0&&(t="down"))):v.right===!0&&l>0&&(t="right",g<p&&(v.up===!0&&u<0?t="up":v.down===!0&&u>0&&(t="down")));let i=!1;if(t===void 0&&c===!1){if(r.event.isFirst===!0||r.event.lastDir===void 0)return{};t=r.event.lastDir,i=!0,t==="left"||t==="right"?(y.left-=l,g=0,l=0):(y.top-=u,p=0,u=0)}return{synthetic:i,payload:{evt:e,touch:r.event.mouse!==!0,mouse:r.event.mouse===!0,position:y,direction:t,isFirst:r.event.isFirst,isFinal:c===!0,duration:Date.now()-r.event.time,distance:{x:g,y:p},offset:{x:l,y:u},delta:{x:y.left-r.event.lastX,y:y.top-r.event.lastY}}}}let Ht=0;const Ce=ht({name:"touch-pan",beforeMount(e,{value:r,modifiers:c}){if(c.mouse!==!0&&te.has.touch!==!0)return;function y(l,u){c.mouse===!0&&u===!0?Ue(l):(c.stop===!0&&qe(l),c.prevent===!0&&Ie(l))}const t={uid:"qvtp_"+Ht++,handler:r,modifiers:c,direction:De(c),noop:gt,mouseStart(l){ze(l,t)&&bt(l)&&(de(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(l,!0))},touchStart(l){if(ze(l,t)){const u=l.target;de(t,"temp",[[u,"touchmove","move","notPassiveCapture"],[u,"touchcancel","end","passiveCapture"],[u,"touchend","end","passiveCapture"]]),t.start(l)}},start(l,u){if(te.is.firefox===!0&&ke(e,!0),t.lastEvt=l,u===!0||c.stop===!0){if(t.direction.all!==!0&&(u!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const v=l.type.indexOf("mouse")!==-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&Ie(v),l.cancelBubble===!0&&qe(v),Object.assign(v,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[t.uid]:l.qClonedBy.concat(t.uid)}),t.initialEvent={target:l.target,event:v}}qe(l)}const{left:g,top:p}=Te(l);t.event={x:g,y:p,time:Date.now(),mouse:u===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:g,lastY:p}},move(l){if(t.event===void 0)return;const u=Te(l),g=u.left-t.event.x,p=u.top-t.event.y;if(g===0&&p===0)return;t.lastEvt=l;const v=t.event.mouse===!0,i=()=>{y(l,v);let k;c.preserveCursor!==!0&&c.preservecursor!==!0&&(k=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),v===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ot(),t.styleCleanup=w=>{if(t.styleCleanup=void 0,k!==void 0&&(document.documentElement.style.cursor=k),document.body.classList.remove("non-selectable"),v===!0){const f=()=>{document.body.classList.remove("no-pointer-events--children")};w!==void 0?setTimeout(()=>{f(),w()},50):f()}else w!==void 0&&w()}};if(t.event.detected===!0){t.event.isFirst!==!0&&y(l,t.event.mouse);const{payload:k,synthetic:w}=Se(l,t,!1);k!==void 0&&(t.handler(k)===!1?t.end(l):(t.styleCleanup===void 0&&t.event.isFirst===!0&&i(),t.event.lastX=k.position.left,t.event.lastY=k.position.top,t.event.lastDir=w===!0?void 0:k.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||v===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){i(),t.event.detected=!0,t.move(l);return}const o=Math.abs(g),q=Math.abs(p);o!==q&&(t.direction.horizontal===!0&&o>q||t.direction.vertical===!0&&o<q||t.direction.up===!0&&o<q&&p<0||t.direction.down===!0&&o<q&&p>0||t.direction.left===!0&&o>q&&g<0||t.direction.right===!0&&o>q&&g>0?(t.event.detected=!0,t.move(l)):t.end(l,!0))},end(l,u){if(t.event!==void 0){if(_e(t,"temp"),te.is.firefox===!0&&ke(e,!1),u===!0)t.styleCleanup?.(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(Se(l===void 0?t.lastEvt:l,t).payload);const{payload:g}=Se(l===void 0?t.lastEvt:l,t,!0),p=()=>{t.handler(g)};t.styleCleanup!==void 0?t.styleCleanup(p):p()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,c.mouse===!0){const l=c.mouseCapture===!0||c.mousecapture===!0?"Capture":"";de(t,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}te.has.touch===!0&&de(t,"main",[[e,"touchstart","touchStart",`passive${c.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,r){const c=e.__qtouchpan;c!==void 0&&(r.oldValue!==r.value&&(typeof value!="function"&&c.end(),c.handler=r.value),c.direction=De(r.modifiers))},beforeUnmount(e){const r=e.__qtouchpan;r!==void 0&&(r.event!==void 0&&r.end(),_e(r,"main"),_e(r,"temp"),te.is.firefox===!0&&ke(e,!1),r.styleCleanup?.(),delete e.__qtouchpan)}}),Ve=150,Ft=le({name:"QDrawer",inheritAttrs:!1,props:{...We,...Re,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ne,"onLayout","miniState"],setup(e,{slots:r,emit:c,attrs:y}){const t=me(),{proxy:{$q:l}}=t,u=Ye(e,l),{preventBodyScroll:g}=yt(),{registerTimeout:p,removeTimeout:v}=pt(),i=He(Fe,Z);if(i===Z)return console.error("QDrawer needs to be child of QLayout"),Z;let o,q=null,k;const w=F(e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint),f=h(()=>e.mini===!0&&w.value!==!0),S=h(()=>f.value===!0?e.miniWidth:e.width),x=F(e.showIfAbove===!0&&w.value===!1?!0:e.modelValue===!0),d=h(()=>e.persistent!==!0&&(w.value===!0||be.value===!0));function E(s,_){if(ge(),s!==!1&&i.animate(),V(0),w.value===!0){const D=i.instances[J.value];D?.belowBreakpoint===!0&&D.hide(!1),j(1),i.isContainer.value!==!0&&g(!0)}else j(0),s!==!1&&we(!1);p(()=>{s!==!1&&we(!0),_!==!0&&c("show",s)},Ve)}function ie(s,_){oe(),s!==!1&&i.animate(),j(0),V(R.value*S.value),ye(),_!==!0?p(()=>{c("hide",s)},Ve):v()}const{show:X,hide:G}=Ge({showing:x,hideOnRouteChange:d,handleShow:E,handleHide:ie}),{addToHistory:ge,removeFromHistory:oe}=wt(x,G,d),K={belowBreakpoint:w,hide:G},H=h(()=>e.side==="right"),R=h(()=>(l.lang.rtl===!0?-1:1)*(H.value===!0?1:-1)),se=F(0),W=F(!1),ee=F(!1),re=F(S.value*R.value),J=h(()=>H.value===!0?"left":"right"),m=h(()=>x.value===!0&&w.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:S.value:0),M=h(()=>e.overlay===!0||e.miniToOverlay===!0||i.view.value.indexOf(H.value?"R":"L")!==-1||l.platform.is.ios===!0&&i.isContainer.value===!0),N=h(()=>e.overlay===!1&&x.value===!0&&w.value===!1),be=h(()=>e.overlay===!0&&x.value===!0&&w.value===!1),Xe=h(()=>"fullscreen q-drawer__backdrop"+(x.value===!1&&W.value===!1?" hidden":"")),Ke=h(()=>({backgroundColor:`rgba(0,0,0,${se.value*.4})`})),Be=h(()=>H.value===!0?i.rows.value.top[2]==="r":i.rows.value.top[0]==="l"),Je=h(()=>H.value===!0?i.rows.value.bottom[2]==="r":i.rows.value.bottom[0]==="l"),Ze=h(()=>{const s={};return i.header.space===!0&&Be.value===!1&&(M.value===!0?s.top=`${i.header.offset}px`:i.header.space===!0&&(s.top=`${i.header.size}px`)),i.footer.space===!0&&Je.value===!1&&(M.value===!0?s.bottom=`${i.footer.offset}px`:i.footer.space===!0&&(s.bottom=`${i.footer.size}px`)),s}),et=h(()=>{const s={width:`${S.value}px`,transform:`translateX(${re.value}px)`};return w.value===!0?s:Object.assign(s,Ze.value)}),tt=h(()=>"q-drawer__content fit "+(i.isContainer.value!==!0?"scroll":"overflow-auto")),at=h(()=>`q-drawer q-drawer--${e.side}`+(ee.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(u.value===!0?" q-drawer--dark q-dark":"")+(W.value===!0?" no-transition":x.value===!0?"":" q-layout--prevent-focus")+(w.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${f.value===!0?"mini":"standard"}`+(M.value===!0||N.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Be.value===!0?" q-drawer--top-padding":""))),nt=h(()=>{const s=l.lang.rtl===!0?e.side:J.value;return[[Ce,st,void 0,{[s]:!0,mouse:!0}]]}),lt=h(()=>{const s=l.lang.rtl===!0?J.value:e.side;return[[Ce,Pe,void 0,{[s]:!0,mouse:!0}]]}),it=h(()=>{const s=l.lang.rtl===!0?J.value:e.side;return[[Ce,Pe,void 0,{[s]:!0,mouse:!0,mouseAllDir:!0}]]});function pe(){rt(w,e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint)}I(w,s=>{s===!0?(o=x.value,x.value===!0&&G(!1)):e.overlay===!1&&e.behavior!=="mobile"&&o!==!1&&(x.value===!0?(V(0),j(0),ye()):X(!1))}),I(()=>e.side,(s,_)=>{i.instances[_]===K&&(i.instances[_]=void 0,i[_].space=!1,i[_].offset=0),i.instances[s]=K,i[s].size=S.value,i[s].space=N.value,i[s].offset=m.value}),I(i.totalWidth,()=>{(i.isContainer.value===!0||document.qScrollPrevented!==!0)&&pe()}),I(()=>e.behavior+e.breakpoint,pe),I(i.isContainer,s=>{x.value===!0&&g(s!==!0),s===!0&&pe()}),I(i.scrollbarWidth,()=>{V(x.value===!0?0:void 0)}),I(m,s=>{Y("offset",s)}),I(N,s=>{c("onLayout",s),Y("space",s)}),I(H,()=>{V()}),I(S,s=>{V(),xe(e.miniToOverlay,s)}),I(()=>e.miniToOverlay,s=>{xe(s,S.value)}),I(()=>l.lang.rtl,()=>{V()}),I(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(ot(),i.animate())}),I(f,s=>{c("miniState",s)});function V(s){s===void 0?$e(()=>{s=x.value===!0?0:S.value,V(R.value*s)}):(i.isContainer.value===!0&&H.value===!0&&(w.value===!0||Math.abs(s)===S.value)&&(s+=R.value*i.scrollbarWidth.value),re.value=s)}function j(s){se.value=s}function we(s){const _=s===!0?"remove":i.isContainer.value!==!0?"add":"";_!==""&&document.body.classList[_]("q-body--drawer-toggle")}function ot(){q!==null&&clearTimeout(q),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),ee.value=!0,q=setTimeout(()=>{q=null,ee.value=!1,t?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function st(s){if(x.value!==!1)return;const _=S.value,D=ce(s.distance.x,0,_);if(s.isFinal===!0){D>=Math.min(75,_)===!0?X():(i.animate(),j(0),V(R.value*_)),W.value=!1;return}V((l.lang.rtl===!0?H.value!==!0:H.value)?Math.max(_-D,0):Math.min(0,D-_)),j(ce(D/_,0,1)),s.isFirst===!0&&(W.value=!0)}function Pe(s){if(x.value!==!0)return;const _=S.value,D=s.direction===e.side,ue=(l.lang.rtl===!0?D!==!0:D)?ce(s.distance.x,0,_):0;if(s.isFinal===!0){Math.abs(ue)<Math.min(75,_)===!0?(i.animate(),j(1),V(0)):G(),W.value=!1;return}V(R.value*ue),j(ce(1-ue/_,0,1)),s.isFirst===!0&&(W.value=!0)}function ye(){g(!1),we(!0)}function Y(s,_){i.update(e.side,s,_)}function rt(s,_){s.value!==_&&(s.value=_)}function xe(s,_){Y("size",s===!0?e.miniWidth:_)}return i.instances[e.side]=K,xe(e.miniToOverlay,S.value),Y("space",N.value),Y("offset",m.value),e.showIfAbove===!0&&e.modelValue!==!0&&x.value===!0&&e["onUpdate:modelValue"]!==void 0&&c("update:modelValue",!0),xt(()=>{c("onLayout",N.value),c("miniState",f.value),o=e.showIfAbove===!0;const s=()=>{(x.value===!0?E:ie)(!1,!0)};if(i.totalWidth.value!==0){$e(s);return}k=I(i.totalWidth,()=>{k(),k=void 0,x.value===!1&&e.showIfAbove===!0&&w.value===!1?X(!1):s()})}),he(()=>{k?.(),q!==null&&(clearTimeout(q),q=null),x.value===!0&&ye(),i.instances[e.side]===K&&(i.instances[e.side]=void 0,Y("size",0),Y("offset",0),Y("space",!1))}),()=>{const s=[];w.value===!0&&(e.noSwipeOpen===!1&&s.push($(L("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),nt.value)),s.push(Ae("div",{ref:"backdrop",class:Xe.value,style:Ke.value,"aria-hidden":"true",onClick:G},void 0,"backdrop",e.noSwipeBackdrop!==!0&&x.value===!0,()=>it.value)));const _=f.value===!0&&r.mini!==void 0,D=[L("div",{...y,key:""+_,class:[tt.value,y.class]},_===!0?r.mini():Le(r.default))];return e.elevated===!0&&x.value===!0&&D.push(L("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),s.push(Ae("aside",{ref:"content",class:at.value,style:et.value},D,"contentclose",e.noSwipeClose!==!0&&w.value===!0,()=>lt.value)),L("div",{class:"q-drawer-container"},s)}}}),Nt={class:"row items-center q-gutter-sm"},Rt={class:"text-subtitle1 text-weight-medium",style:{"line-height":"0.9"}},Wt={class:"row items-center q-gutter-sm"},jt={class:"row items-center no-wrap q-gutter-sm"},Yt={class:"text-left",style:{"line-height":"1"}},Gt={class:"ellipsis",style:{"max-width":"130px"}},Ut={class:"row q-col-gutter-xs",style:{"min-width":"150px","max-width":"150px"}},Xt={class:"q-pa-md"},Kt={class:"text-white-7 text-caption"},Jt={class:"text-white-7 text-caption"},Zt={__name:"MainLayout",setup(e){const{proxy:r}=me(),c=kt(),y=F(!1);function t(i){return i?c.permissions?.includes(i):!0}function l(i=[]){return i.some(o=>t(o))}const u=[{title:"Dashboard",icon:"dashboard",link:"/",canPerm:"Dashboard"},{title:"Geografía",icon:"location_city",link:"/geocrud",canPerm:"Geografia"},{title:"Organizaciones",icon:"apartment",link:"/organizaciones",canPerm:"Organizaciones"},{title:"Productores Crear",icon:"person_add",link:"/productores/crear",canPerm:"Productores Crear"},{title:"Productores / Agricultores",icon:"agriculture",link:"/productores",canPerm:"Productores / Agricultores"},{title:"Acopios",icon:"inbox",link:"/acopios",canPerm:"Acopios"},{title:"Usuarios",icon:"people",link:"/usuarios",canPerm:"Usuarios"},{title:"Configuración",icon:"settings",link:"/configuraciones",canPerm:"Configuracion"},{title:"Soporte",icon:"support",link:"/soporte",canPerm:"Soporte"}];h(()=>u.filter(i=>Array.isArray(i.canPerm)?l(i.canPerm):i.canPerm?t(i.canPerm):!0));function g(){y.value=!y.value}function p(){r.$alert.dialog("¿Desea salir del sistema?").onOk(()=>{r.$axios.post("/logout").then(()=>{r.$store.isLogged=!1,r.$store.user={},r.$store.permissions=[],localStorage.removeItem("tokenEBA"),r.$router.push("/login")}).catch(()=>r.$alert.error("Error al cerrar sesión. Intente nuevamente."))})}const v=h(()=>{const i=r.$store.user.role;return i?i==="Administrador"?"Administrador":i:""});return(i,o)=>{const q=qt("router-view");return C(),T(Et,{view:"lHh Lpr lFf"},{default:a(()=>[n(Dt,{class:"bg-white text-black",bordered:""},{default:a(()=>[n(Mt,null,{default:a(()=>[n(St,{flat:"",color:"primary",icon:y.value?"keyboard_double_arrow_left":"keyboard_double_arrow_right","aria-label":"Menu",onClick:g,unelevated:"",dense:""},null,8,["icon"]),z("div",Nt,[z("div",Rt,[o[1]||(o[1]=B(" Dashboard de Gestión ")),o[2]||(o[2]=z("br",null,null,-1)),v.value?(C(),T(Ee,{key:0,color:"warning","text-color":"black",class:"text-bold"},{default:a(()=>[B(ae(v.value),1)]),_:1})):Oe("",!0)])]),n(Pt),z("div",Wt,[n($t,{flat:"",unelevated:"","no-caps":"","dropdown-icon":"expand_more"},{label:a(()=>[z("div",jt,[n(Qe,{rounded:""},{default:a(()=>[i.$store.user.avatar?(C(),T(Me,{key:0,src:`${i.$url}/../images/${i.$store.user.avatar}`,width:"40px",height:"40px"},null,8,["src"])):(C(),T(A,{key:1,name:"person"}))]),_:1}),z("div",Yt,[z("div",Gt,ae(i.$store.user.username),1)])])]),default:a(()=>[$((C(),T(O,{clickable:""},{default:a(()=>[n(b,null,{default:a(()=>[n(P,{class:"text-grey-7"},{default:a(()=>o[3]||(o[3]=[B(" Permisos asignados ")])),_:1}),n(P,{caption:"",class:"q-mt-xs"},{default:a(()=>[z("div",Ut,[(C(!0),Ct(Tt,null,Lt(i.$store.permissions,(k,w)=>(C(),T(It,{key:w,dense:"",color:"grey-3","text-color":"black",size:"12px",class:"q-mr-xs q-mb-xs"},{default:a(()=>[B(ae(k),1)]),_:2},1024))),128)),i.$store.permissions?.length?Oe("",!0):(C(),T(Ee,{key:0,color:"grey-5",outline:""},{default:a(()=>o[4]||(o[4]=[B("Sin permisos")])),_:1}))])]),_:1})]),_:1})]),_:1})),[[Q]]),n(ve),$((C(),T(O,{clickable:"",onClick:p},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"logout"})]),_:1}),n(b,null,{default:a(()=>[n(P,null,{default:a(()=>o[5]||(o[5]=[B("Salir")])),_:1})]),_:1})]),_:1})),[[Bt],[Q]])]),_:1})])]),_:1})]),_:1}),n(Ft,{modelValue:y.value,"onUpdate:modelValue":o[0]||(o[0]=k=>y.value=k),bordered:"","show-if-above":"",width:240,breakpoint:500,class:"bg-primary text-white"},{default:a(()=>[n(ne,{class:"q-pb-none"},{default:a(()=>[n(P,{header:"",class:"text-center q-pa-none q-pt-md"},{default:a(()=>[n(Qe,{size:"64px",class:"q-mb-sm bg-white",rounded:""},{default:a(()=>[n(Me,{src:"/logo.png",width:"90px"})]),_:1}),o[6]||(o[6]=z("div",{class:"text-weight-bold text-white"},"EBA",-1)),o[7]||(o[7]=z("div",{class:"text-caption text-white"},"Sistema de Gestión Apícola",-1))]),_:1}),n(ve,{color:"green-8"}),n(P,{header:"",class:"q-px-md text-grey-3 q-mt-sm"},{default:a(()=>o[8]||(o[8]=[B(" Módulos del Sistema ")])),_:1}),$((C(),T(O,{dense:"",to:"/",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"dashboard",class:"text-white"})]),_:1}),n(b,null,{default:a(()=>[n(P,{class:"text-white"},{default:a(()=>o[9]||(o[9]=[B("Dashboard")])),_:1})]),_:1})]),_:1})),[[Q]]),n(fe,{dense:"","expand-separator":"",icon:"gavel",label:"Modulo Producción Primaria","active-class":"menu-active"},{default:a(()=>[n(ne,null,{default:a(()=>[$((C(),T(O,{"inset-level":.3,dense:"",to:"/productores/crear",clickable:"",class:"menu-item","active-class":"menu-active"},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"person_add",class:"text-white"})]),_:1}),n(b,null,{default:a(()=>[n(P,{class:"text-white"},{default:a(()=>o[10]||(o[10]=[B("Crear Productor")])),_:1})]),_:1})]),_:1})),[[Q]]),$((C(),T(O,{"inset-level":.3,dense:"",to:"/productores",clickable:"",class:"menu-item","active-class":"menu-active"},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"agriculture",class:"text-white"})]),_:1}),n(b,null,{default:a(()=>[n(P,{class:"text-white"},{default:a(()=>o[11]||(o[11]=[B("Gestion de Productores")])),_:1})]),_:1})]),_:1})),[[Q]]),$((C(),T(O,{"inset-level":.3,dense:"",to:"/geocrud",clickable:"",class:"menu-item","active-class":"menu-active"},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"location_city",class:"text-white"})]),_:1}),n(b,null,{default:a(()=>[n(P,{class:"text-white"},{default:a(()=>o[12]||(o[12]=[B(" Ubicación de Apiarios ")])),_:1})]),_:1})]),_:1})),[[Q]]),$((C(),T(O,{"inset-level":.3,dense:"",to:"/organizaciones",clickable:"",class:"menu-item","active-class":"menu-active"},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"apartment",class:"text-white"})]),_:1}),n(b,null,{default:a(()=>[n(P,{class:"text-white"},{default:a(()=>o[13]||(o[13]=[B("Módulo de convenios")])),_:1})]),_:1})]),_:1})),[[Q]])]),_:1})]),_:1}),n(fe,{dense:"","expand-separator":"",icon:"inbox",label:"Módulo Acopio","active-class":"menu-active"},{default:a(()=>[n(ne,null,{default:a(()=>[$((C(),T(O,{"inset-level":.3,dense:"",to:"/recoleccion",clickable:"",class:"menu-item","active-class":"menu-active"},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"yard",class:"text-white"})]),_:1}),n(b,null,{default:a(()=>[n(P,{class:"text-white"},{default:a(()=>o[14]||(o[14]=[B("Recolección")])),_:1})]),_:1})]),_:1})),[[Q]]),$((C(),T(O,{"inset-level":.3,dense:"",to:"/acopios",clickable:"",class:"menu-item","active-class":"menu-active"},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"inbox",class:"text-white"})]),_:1}),n(b,null,{default:a(()=>[n(P,{class:"text-white"},{default:a(()=>o[15]||(o[15]=[B("Acopios")])),_:1})]),_:1})]),_:1})),[[Q]])]),_:1})]),_:1}),$((C(),T(O,{dense:"",to:"/usuarios",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"people",class:"text-white"})]),_:1}),n(b,null,{default:a(()=>[n(P,{class:"text-white"},{default:a(()=>o[16]||(o[16]=[B("Usuarios")])),_:1})]),_:1})]),_:1})),[[Q]]),$((C(),T(O,{dense:"",to:"/productos",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"inventory",class:"text-white"})]),_:1}),n(b,null,{default:a(()=>[n(P,{class:"text-white"},{default:a(()=>o[17]||(o[17]=[B("Productos")])),_:1})]),_:1})]),_:1})),[[Q]]),$((C(),T(O,{dense:"",to:"/clientes",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"storefront",class:"text-white"})]),_:1}),n(b,null,{default:a(()=>[n(P,{class:"text-white"},{default:a(()=>o[18]||(o[18]=[B("Clientes")])),_:1})]),_:1})]),_:1})),[[Q]]),$((C(),T(O,{dense:"",to:"/transportes",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"local_shipping",class:"text-white"})]),_:1}),n(b,null,{default:a(()=>[n(P,{class:"text-white"},{default:a(()=>o[19]||(o[19]=[B("Transporte")])),_:1})]),_:1})]),_:1})),[[Q]]),$((C(),T(O,{dense:"",to:"/plantas",exact:"",clickable:"",class:"menu-item","active-class":"menu-active"},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"factory",class:"text-white"})]),_:1}),n(b,null,{default:a(()=>[n(P,{class:"text-white"},{default:a(()=>o[20]||(o[20]=[B("Plantas de Procesamiento")])),_:1})]),_:1})]),_:1})),[[Q]]),n(fe,{dense:"","expand-separator":"",icon:"store",label:"Módulo Comercialización","active-class":"menu-active"},{default:a(()=>[n(ne,null,{default:a(()=>[$((C(),T(O,{"inset-level":.3,dense:"",to:"/ventas/crear",clickable:"",class:"menu-item","active-class":"menu-active"},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"point_of_sale",class:"text-white"})]),_:1}),n(b,null,{default:a(()=>[n(P,{class:"text-white"},{default:a(()=>o[21]||(o[21]=[B("Crear Venta")])),_:1})]),_:1})]),_:1})),[[Q]]),$((C(),T(O,{"inset-level":.3,dense:"",to:"/ventas",clickable:"",class:"menu-item","active-class":"menu-active"},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"sell",class:"text-white"})]),_:1}),n(b,null,{default:a(()=>[n(P,{class:"text-white"},{default:a(()=>o[22]||(o[22]=[B("Gestionar Ventas")])),_:1})]),_:1})]),_:1})),[[Q]])]),_:1})]),_:1}),n(fe,{dense:"","expand-separator":"",icon:"store",label:"Módulo Reportes","active-class":"menu-active"},{default:a(()=>[n(ne,null,{default:a(()=>[$((C(),T(O,{"inset-level":.3,dense:"",to:"/reportes",clickable:"",class:"menu-item","active-class":"menu-active"},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"point_of_sale",class:"text-white"})]),_:1}),n(b,null,{default:a(()=>[n(P,{class:"text-white"},{default:a(()=>o[23]||(o[23]=[B("Reporte")])),_:1})]),_:1})]),_:1})),[[Q]])]),_:1})]),_:1}),z("div",Xt,[z("div",Kt," EBA v"+ae(i.$version),1),z("div",Jt," © "+ae(new Date().getFullYear())+" Sistema de Gestión Apícola ",1)]),$((C(),T(O,{clickable:"",class:"text-white",onClick:p},{default:a(()=>[n(b,{avatar:""},{default:a(()=>[n(A,{name:"logout"})]),_:1}),n(b,null,{default:a(()=>[n(P,null,{default:a(()=>o[24]||(o[24]=[B("Salir")])),_:1})]),_:1})]),_:1})),[[Q]])]),_:1})]),_:1},8,["modelValue"]),n(Qt,{class:"bg-grey-2"},{default:a(()=>[n(q)]),_:1})]),_:1})}}},va=_t(Zt,[["__scopeId","data-v-c0b9d225"]]);export{va as default};
